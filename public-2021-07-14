[2021-07-14 11:27:02] local.DEBUG: SQL {"time":"24.04 ms","sql":"select * from `carts` where `user_id` is null"} 
[2021-07-14 11:27:09] local.DEBUG: SQL {"time":"4.67 ms","sql":"select * from `users` where `email` = m.naruse941112@gmail.com limit 1"} 
[2021-07-14 11:27:09] local.DEBUG: SQL {"time":"3.85 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 11:27:11] local.DEBUG: SQL {"time":"2.59 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 11:27:11] local.DEBUG: SQL {"time":"0.62 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 11:27:13] local.DEBUG: SQL {"time":"3.41 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 11:27:13] local.DEBUG: SQL {"time":"0.34 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 11:27:13] local.DEBUG: SQL {"time":"0.48 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 11:27:13] local.DEBUG: SQL {"time":"0.33 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 11:27:16] local.DEBUG: SQL {"time":"2.79 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 11:27:16] local.DEBUG: SQL {"time":"0.33 ms","sql":"select * from `carts` where (`user_id` = 1 and `item_id` = 2) limit 1"} 
[2021-07-14 11:27:16] local.DEBUG: SQL {"time":"3.06 ms","sql":"insert into `carts` (`user_id`, `item_id`, `amount`, `updated_at`, `created_at`) values (1, 2, 1, 2021-07-14 11:27:16, 2021-07-14 11:27:16)"} 
[2021-07-14 11:27:16] local.DEBUG: SQL {"time":"2.63 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 11:27:16] local.DEBUG: SQL {"time":"0.38 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 11:27:16] local.DEBUG: SQL {"time":"0.39 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 11:27:16] local.DEBUG: SQL {"time":"0.36 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 11:27:18] local.DEBUG: SQL {"time":"3.65 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 11:27:18] local.DEBUG: SQL {"time":"0.62 ms","sql":"select * from `items` order by `created_at` desc"} 
[2021-07-14 11:27:24] local.DEBUG: SQL {"time":"2.96 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 11:27:24] local.DEBUG: SQL {"time":"1.49 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 11:27:24] local.DEBUG: SQL {"time":"0.52 ms","sql":"select * from `items` where `items`.`item_id` in (2)"} 
[2021-07-14 11:27:25] local.DEBUG: SQL {"time":"2.68 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 11:27:25] local.DEBUG: SQL {"time":"1.62 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 11:27:25] local.DEBUG: SQL {"time":"4.40 ms","sql":"update `items` set `stock` = 0, `updated_at` = 2021-07-14 11:27:25 where `item_id` = 2"} 
[2021-07-14 11:27:25] local.DEBUG: SQL {"time":"0.41 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 11:27:25, 2021-07-14 11:27:25)"} 
[2021-07-14 11:27:25] local.DEBUG: SQL {"time":"7.51 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (8, 2, 6, 1, 2021-07-14 11:27:25, 2021-07-14 11:27:25)"} 
[2021-07-14 11:27:25] local.DEBUG: SQL {"time":"0.42 ms","sql":"delete from `carts` where `cart_id` = 3"} 
[2021-07-14 11:28:09] local.DEBUG: SQL {"time":"3.04 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 11:28:09] local.DEBUG: SQL {"time":"0.41 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 11:28:09] local.DEBUG: SQL {"time":"1.30 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 11:28:09, 2021-07-14 11:28:09)"} 
[2021-07-14 11:30:00] local.DEBUG: SQL {"time":"5.25 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 11:30:00] local.DEBUG: SQL {"time":"0.29 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 11:30:00] local.DEBUG: SQL {"time":"0.18 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 11:30:00, 2021-07-14 11:30:00)"} 
[2021-07-14 11:30:58] local.DEBUG: SQL {"time":"4.86 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 11:30:58] local.DEBUG: SQL {"time":"0.39 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 11:30:58] local.DEBUG: SQL {"time":"4.49 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 11:30:58, 2021-07-14 11:30:58)"} 
[2021-07-14 11:31:51] local.DEBUG: SQL {"time":"4.63 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 11:31:51] local.DEBUG: SQL {"time":"0.27 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 11:31:51] local.DEBUG: SQL {"time":"4.73 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 11:31:51, 2021-07-14 11:31:51)"} 
[2021-07-14 11:32:01] local.DEBUG: SQL {"time":"3.22 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 11:32:01] local.DEBUG: SQL {"time":"0.50 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 11:32:01] local.DEBUG: SQL {"time":"1.21 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 11:32:01, 2021-07-14 11:32:01)"} 
[2021-07-14 11:32:01] local.DEBUG: SQL {"time":"0.23 ms","sql":"select * from `purchases`"} 
[2021-07-14 11:32:01] local.DEBUG: SQL {"time":"5.21 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 13)"} 
[2021-07-14 11:32:48] local.DEBUG: SQL {"time":"2.67 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 11:32:48] local.DEBUG: SQL {"time":"0.27 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 11:32:48] local.DEBUG: SQL {"time":"0.27 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 11:32:48, 2021-07-14 11:32:48)"} 
[2021-07-14 11:32:48] local.ERROR: SQLSTATE[42S22]: Column not found: 1054 Unknown column '$order_number' in 'where clause' (SQL: select * from `purchases` where `$order_number` = 14) {"userId":1,"email":"m.naruse941112@gmail.com","exception":"[object] (Illuminate\\Database\\QueryException(code: 42S22): SQLSTATE[42S22]: Column not found: 1054 Unknown column '$order_number' in 'where clause' (SQL: select * from `purchases` where `$order_number` = 14) at /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php:664, Doctrine\\DBAL\\Driver\\PDO\\Exception(code: 42S22): SQLSTATE[42S22]: Column not found: 1054 Unknown column '$order_number' in 'where clause' at /Users/narusemasahiko/ECsite_laravel/vendor/doctrine/dbal/lib/Doctrine/DBAL/Driver/PDO/Exception.php:18, PDOException(code: 42S22): SQLSTATE[42S22]: Column not found: 1054 Unknown column '$order_number' in 'where clause' at /Users/narusemasahiko/ECsite_laravel/vendor/doctrine/dbal/lib/Doctrine/DBAL/Driver/PDOConnection.php:79)
[stacktrace]
#0 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(624): Illuminate\\Database\\Connection->runQueryCallback('select * from `...', Array, Object(Closure))
#1 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Connection.php(333): Illuminate\\Database\\Connection->run('select * from `...', Array, Object(Closure))
#2 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(1963): Illuminate\\Database\\Connection->select('select * from `...', Array, true)
#3 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(1951): Illuminate\\Database\\Query\\Builder->runSelect()
#4 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2435): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(1952): Illuminate\\Database\\Query\\Builder->onceWithColumns(Array, Object(Closure))
#6 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(481): Illuminate\\Database\\Query\\Builder->get(Array)
#7 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(465): Illuminate\\Database\\Eloquent\\Builder->getModels(Array)
#8 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(95): Illuminate\\Database\\Eloquent\\Builder->get()
#9 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/ManagesTransactions.php(29): App\\Http\\Controllers\\CartsController->App\\Http\\Controllers\\{closure}(Object(Illuminate\\Database\\MySqlConnection))
#10 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(327): Illuminate\\Database\\Connection->transaction(Object(Closure))
#11 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(223): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#12 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(98): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#13 [internal function]: App\\Http\\Controllers\\CartsController->settle(Object(Illuminate\\Http\\Request))
#14 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array(Array, Array)
#15 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction('settle', Array)
#16 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\CartsController), 'settle')
#17 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(169): Illuminate\\Routing\\Route->runController()
#18 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(665): Illuminate\\Routing\\Route->run()
#19 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#20 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#21 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(68): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#24 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#25 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#26 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#27 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#28 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#30 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#31 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#32 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#33 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#34 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#35 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(66): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#36 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#37 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#38 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#39 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(667): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#40 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(642): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#41 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(608): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#42 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(597): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#43 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#44 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#45 /Users/narusemasahiko/ECsite_laravel/vendor/barryvdh/laravel-debugbar/src/Middleware/InjectDebugbar.php(58): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#46 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Barryvdh\\Debugbar\\Middleware\\InjectDebugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 /Users/narusemasahiko/ECsite_laravel/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#49 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Fideloper\\Proxy\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#51 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#52 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#55 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#56 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#57 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#58 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#59 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#60 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(62): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#61 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#62 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#63 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#64 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#65 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#66 /Users/narusemasahiko/ECsite_laravel/public/index.php(55): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#67 /Users/narusemasahiko/ECsite_laravel/server.php(21): require_once('/Users/narusema...')
#68 {main}
"} 
[2021-07-14 11:32:56] local.DEBUG: SQL {"time":"5.42 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 11:32:56] local.DEBUG: SQL {"time":"0.52 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 11:32:56] local.DEBUG: SQL {"time":"0.52 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 11:32:56, 2021-07-14 11:32:56)"} 
[2021-07-14 11:32:56] local.DEBUG: SQL {"time":"0.30 ms","sql":"select * from `purchases` where `order_number` = 15"} 
[2021-07-14 11:32:56] local.DEBUG: SQL {"time":"0.58 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` in (15)"} 
[2021-07-14 11:59:08] local.DEBUG: SQL {"time":"30.25 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 11:59:08] local.DEBUG: SQL {"time":"6.99 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 11:59:08] local.DEBUG: SQL {"time":"4.71 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 11:59:08, 2021-07-14 11:59:08)"} 
[2021-07-14 12:01:04] local.DEBUG: SQL {"time":"11.30 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:01:04] local.DEBUG: SQL {"time":"0.31 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 12:01:06] local.DEBUG: SQL {"time":"4.47 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:01:06] local.DEBUG: SQL {"time":"0.38 ms","sql":"select * from `purchases` where `user_id` = 1"} 
[2021-07-14 12:01:06] local.DEBUG: SQL {"time":"0.34 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10)"} 
[2021-07-14 12:01:07] local.DEBUG: SQL {"time":"2.64 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:01:07] local.DEBUG: SQL {"time":"0.34 ms","sql":"select * from `purchases` where `user_id` = 1 and `order_number` = 1 limit 1"} 
[2021-07-14 12:01:07] local.DEBUG: SQL {"time":"0.23 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` in (1)"} 
[2021-07-14 12:01:07] local.DEBUG: SQL {"time":"0.32 ms","sql":"select * from `purchase_details` inner join `items` on `items`.`item_id` = `purchase_details`.`item_id` where `order_number` = 1"} 
[2021-07-14 12:01:13] local.DEBUG: SQL {"time":"5.31 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:01:13] local.DEBUG: SQL {"time":"0.45 ms","sql":"select * from `purchases` where `user_id` = 1 and `order_number` = 10 limit 1"} 
[2021-07-14 12:01:13] local.DEBUG: SQL {"time":"0.33 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` in (10)"} 
[2021-07-14 12:01:13] local.DEBUG: SQL {"time":"0.32 ms","sql":"select * from `purchase_details` inner join `items` on `items`.`item_id` = `purchase_details`.`item_id` where `order_number` = 10"} 
[2021-07-14 12:01:17] local.DEBUG: SQL {"time":"3.15 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:01:17] local.DEBUG: SQL {"time":"0.37 ms","sql":"select * from `purchases` where `user_id` = 1 and `order_number` = 9 limit 1"} 
[2021-07-14 12:01:17] local.DEBUG: SQL {"time":"0.34 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` in (9)"} 
[2021-07-14 12:01:17] local.DEBUG: SQL {"time":"0.25 ms","sql":"select * from `purchase_details` inner join `items` on `items`.`item_id` = `purchase_details`.`item_id` where `order_number` = 9"} 
[2021-07-14 12:01:20] local.DEBUG: SQL {"time":"2.63 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:01:20] local.DEBUG: SQL {"time":"0.30 ms","sql":"select * from `purchases` where `user_id` = 1 and `order_number` = 8 limit 1"} 
[2021-07-14 12:01:20] local.DEBUG: SQL {"time":"0.29 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` in (8)"} 
[2021-07-14 12:01:20] local.DEBUG: SQL {"time":"0.31 ms","sql":"select * from `purchase_details` inner join `items` on `items`.`item_id` = `purchase_details`.`item_id` where `order_number` = 8"} 
[2021-07-14 12:04:45] local.DEBUG: SQL {"time":"12.23 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:04:45] local.DEBUG: SQL {"time":"0.26 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 12:04:46] local.DEBUG: SQL {"time":"2.90 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 12:04:46] local.DEBUG: SQL {"time":"0.31 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 12:04:46] local.DEBUG: SQL {"time":"0.56 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 12:04:46] local.DEBUG: SQL {"time":"0.42 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:04:49] local.DEBUG: SQL {"time":"5.18 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:04:49] local.DEBUG: SQL {"time":"0.46 ms","sql":"select * from `carts` where (`user_id` = 1 and `item_id` = 6) limit 1"} 
[2021-07-14 12:04:49] local.DEBUG: SQL {"time":"2.23 ms","sql":"insert into `carts` (`user_id`, `item_id`, `amount`, `updated_at`, `created_at`) values (1, 6, 1, 2021-07-14 12:04:49, 2021-07-14 12:04:49)"} 
[2021-07-14 12:04:49] local.DEBUG: SQL {"time":"2.63 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 12:04:49] local.DEBUG: SQL {"time":"0.40 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 12:04:49] local.DEBUG: SQL {"time":"0.31 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 12:04:49] local.DEBUG: SQL {"time":"0.43 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:04:51] local.DEBUG: SQL {"time":"4.18 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:04:51] local.DEBUG: SQL {"time":"0.41 ms","sql":"select * from `carts` where (`user_id` = 1 and `item_id` = 3) limit 1"} 
[2021-07-14 12:04:51] local.DEBUG: SQL {"time":"0.38 ms","sql":"insert into `carts` (`user_id`, `item_id`, `amount`, `updated_at`, `created_at`) values (1, 3, 1, 2021-07-14 12:04:51, 2021-07-14 12:04:51)"} 
[2021-07-14 12:04:51] local.DEBUG: SQL {"time":"2.82 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 12:04:51] local.DEBUG: SQL {"time":"0.37 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 12:04:51] local.DEBUG: SQL {"time":"3.05 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 12:04:51] local.DEBUG: SQL {"time":"0.36 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:04:53] local.DEBUG: SQL {"time":"2.65 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:04:53] local.DEBUG: SQL {"time":"0.34 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 12:04:53] local.DEBUG: SQL {"time":"0.37 ms","sql":"select * from `items` where `items`.`item_id` in (3, 6)"} 
[2021-07-14 12:04:55] local.DEBUG: SQL {"time":"2.94 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:04:55] local.DEBUG: SQL {"time":"0.28 ms","sql":"select * from `purchases` where `user_id` = 1"} 
[2021-07-14 12:04:55] local.DEBUG: SQL {"time":"0.36 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10)"} 
[2021-07-14 12:04:56] local.DEBUG: SQL {"time":"3.58 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:04:56] local.DEBUG: SQL {"time":"0.35 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 12:04:56] local.DEBUG: SQL {"time":"0.35 ms","sql":"select * from `items` where `items`.`item_id` in (3, 6)"} 
[2021-07-14 12:04:58] local.DEBUG: SQL {"time":"2.53 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:04:58] local.DEBUG: SQL {"time":"0.41 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:04:58] local.DEBUG: SQL {"time":"0.47 ms","sql":"update `items` set `stock` = 0, `updated_at` = 2021-07-14 12:04:58 where `item_id` = 3"} 
[2021-07-14 12:04:58] local.DEBUG: SQL {"time":"0.22 ms","sql":"update `items` set `stock` = 3, `updated_at` = 2021-07-14 12:04:58 where `item_id` = 6"} 
[2021-07-14 12:04:58] local.DEBUG: SQL {"time":"2.35 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:04:58, 2021-07-14 12:04:58)"} 
[2021-07-14 12:04:58] local.DEBUG: SQL {"time":"1.02 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (17, 3, 5, 1, 2021-07-14 12:04:58, 2021-07-14 12:04:58)"} 
[2021-07-14 12:04:58] local.DEBUG: SQL {"time":"0.16 ms","sql":"delete from `carts` where `cart_id` = 5"} 
[2021-07-14 12:04:58] local.DEBUG: SQL {"time":"0.14 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (17, 6, 1, 1, 2021-07-14 12:04:58, 2021-07-14 12:04:58)"} 
[2021-07-14 12:04:58] local.DEBUG: SQL {"time":"0.16 ms","sql":"delete from `carts` where `cart_id` = 4"} 
[2021-07-14 12:04:58] local.DEBUG: SQL {"time":"0.20 ms","sql":"select * from `purchases` where `order_number` = 17"} 
[2021-07-14 12:04:58] local.DEBUG: SQL {"time":"0.20 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` in (17)"} 
[2021-07-14 12:06:41] local.DEBUG: SQL {"time":"14.70 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:06:41] local.DEBUG: SQL {"time":"5.12 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:06:41] local.DEBUG: SQL {"time":"4.24 ms","sql":"update `items` set `stock` = 0, `updated_at` = 2021-07-14 12:06:41 where `item_id` = 3"} 
[2021-07-14 12:06:41] local.DEBUG: SQL {"time":"0.22 ms","sql":"update `items` set `stock` = 3, `updated_at` = 2021-07-14 12:06:41 where `item_id` = 6"} 
[2021-07-14 12:06:41] local.DEBUG: SQL {"time":"0.23 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:06:41, 2021-07-14 12:06:41)"} 
[2021-07-14 12:06:41] local.DEBUG: SQL {"time":"0.16 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (18, 3, 5, 1, 2021-07-14 12:06:41, 2021-07-14 12:06:41)"} 
[2021-07-14 12:06:41] local.DEBUG: SQL {"time":"0.16 ms","sql":"delete from `carts` where `cart_id` = 5"} 
[2021-07-14 12:06:41] local.DEBUG: SQL {"time":"4.86 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (18, 6, 1, 1, 2021-07-14 12:06:41, 2021-07-14 12:06:41)"} 
[2021-07-14 12:06:41] local.DEBUG: SQL {"time":"0.17 ms","sql":"delete from `carts` where `cart_id` = 4"} 
[2021-07-14 12:06:43] local.DEBUG: SQL {"time":"3.87 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:06:43] local.DEBUG: SQL {"time":"0.24 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 12:06:44] local.DEBUG: SQL {"time":"2.63 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 12:06:44] local.DEBUG: SQL {"time":"0.30 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 12:06:44] local.DEBUG: SQL {"time":"0.36 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 12:06:44] local.DEBUG: SQL {"time":"0.31 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:06:47] local.DEBUG: SQL {"time":"4.60 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:06:47] local.DEBUG: SQL {"time":"0.30 ms","sql":"select * from `carts` where (`user_id` = 1 and `item_id` = 8) limit 1"} 
[2021-07-14 12:06:47] local.DEBUG: SQL {"time":"1.55 ms","sql":"insert into `carts` (`user_id`, `item_id`, `amount`, `updated_at`, `created_at`) values (1, 8, 1, 2021-07-14 12:06:47, 2021-07-14 12:06:47)"} 
[2021-07-14 12:06:48] local.DEBUG: SQL {"time":"3.60 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 12:06:48] local.DEBUG: SQL {"time":"0.31 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 12:06:48] local.DEBUG: SQL {"time":"0.30 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 12:06:48] local.DEBUG: SQL {"time":"0.35 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:06:49] local.DEBUG: SQL {"time":"2.82 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:06:49] local.DEBUG: SQL {"time":"0.30 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 12:06:49] local.DEBUG: SQL {"time":"0.32 ms","sql":"select * from `items` where `items`.`item_id` in (8)"} 
[2021-07-14 12:06:50] local.DEBUG: SQL {"time":"3.01 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:06:50] local.DEBUG: SQL {"time":"0.46 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:06:50] local.DEBUG: SQL {"time":"0.43 ms","sql":"update `items` set `stock` = 1, `updated_at` = 2021-07-14 12:06:50 where `item_id` = 8"} 
[2021-07-14 12:06:50] local.DEBUG: SQL {"time":"0.29 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:06:50, 2021-07-14 12:06:50)"} 
[2021-07-14 12:06:50] local.DEBUG: SQL {"time":"0.18 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (19, 8, 1, 1, 2021-07-14 12:06:50, 2021-07-14 12:06:50)"} 
[2021-07-14 12:06:50] local.DEBUG: SQL {"time":"0.17 ms","sql":"delete from `carts` where `cart_id` = 6"} 
[2021-07-14 12:08:48] local.DEBUG: SQL {"time":"10.98 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:08:48] local.DEBUG: SQL {"time":"0.32 ms","sql":"select * from `purchases` where `user_id` = 1"} 
[2021-07-14 12:08:48] local.DEBUG: SQL {"time":"0.26 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 18, 19)"} 
[2021-07-14 12:08:48] local.DEBUG: SQL {"time":"4.79 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:08:48] local.DEBUG: SQL {"time":"0.36 ms","sql":"select * from `purchases` where `user_id` = 1"} 
[2021-07-14 12:08:48] local.DEBUG: SQL {"time":"0.35 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 18, 19)"} 
[2021-07-14 12:10:36] local.DEBUG: SQL {"time":"4.43 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:10:36] local.DEBUG: SQL {"time":"0.26 ms","sql":"select * from `purchases` where `user_id` = 1"} 
[2021-07-14 12:10:36] local.DEBUG: SQL {"time":"0.29 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 18, 19)"} 
[2021-07-14 12:10:39] local.DEBUG: SQL {"time":"3.93 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:10:39] local.DEBUG: SQL {"time":"0.41 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 12:10:40] local.DEBUG: SQL {"time":"2.75 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 12:10:40] local.DEBUG: SQL {"time":"0.32 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 12:10:40] local.DEBUG: SQL {"time":"0.45 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 12:10:40] local.DEBUG: SQL {"time":"0.35 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:10:42] local.DEBUG: SQL {"time":"5.90 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:10:42] local.DEBUG: SQL {"time":"0.34 ms","sql":"select * from `carts` where (`user_id` = 1 and `item_id` = 6) limit 1"} 
[2021-07-14 12:10:42] local.DEBUG: SQL {"time":"1.87 ms","sql":"insert into `carts` (`user_id`, `item_id`, `amount`, `updated_at`, `created_at`) values (1, 6, 1, 2021-07-14 12:10:42, 2021-07-14 12:10:42)"} 
[2021-07-14 12:10:42] local.DEBUG: SQL {"time":"3.39 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 12:10:42] local.DEBUG: SQL {"time":"0.30 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 12:10:42] local.DEBUG: SQL {"time":"0.92 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 12:10:42] local.DEBUG: SQL {"time":"0.51 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:10:43] local.DEBUG: SQL {"time":"3.80 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:10:43] local.DEBUG: SQL {"time":"0.32 ms","sql":"select * from `purchases` where `user_id` = 1"} 
[2021-07-14 12:10:43] local.DEBUG: SQL {"time":"0.36 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 18, 19)"} 
[2021-07-14 12:10:46] local.DEBUG: SQL {"time":"3.30 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:10:46] local.DEBUG: SQL {"time":"0.43 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 12:10:46] local.DEBUG: SQL {"time":"0.35 ms","sql":"select * from `items` where `items`.`item_id` in (6)"} 
[2021-07-14 12:10:47] local.DEBUG: SQL {"time":"2.56 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:10:47] local.DEBUG: SQL {"time":"0.47 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:10:47] local.DEBUG: SQL {"time":"4.40 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:10:47 where `item_id` = 6"} 
[2021-07-14 12:10:47] local.DEBUG: SQL {"time":"0.36 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:10:47, 2021-07-14 12:10:47)"} 
[2021-07-14 12:10:47] local.DEBUG: SQL {"time":"1.74 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (20, 6, 1, 1, 2021-07-14 12:10:47, 2021-07-14 12:10:47)"} 
[2021-07-14 12:10:47] local.DEBUG: SQL {"time":"0.43 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:11:03] local.DEBUG: SQL {"time":"3.25 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:11:03] local.DEBUG: SQL {"time":"0.55 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 12:11:03] local.DEBUG: SQL {"time":"0.34 ms","sql":"select * from `items` where `items`.`item_id` in (6)"} 
[2021-07-14 12:11:44] local.DEBUG: SQL {"time":"3.98 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:11:44] local.DEBUG: SQL {"time":"0.50 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 12:11:44] local.DEBUG: SQL {"time":"0.30 ms","sql":"select * from `items` where `items`.`item_id` in (6)"} 
[2021-07-14 12:11:45] local.DEBUG: SQL {"time":"2.77 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:11:45] local.DEBUG: SQL {"time":"0.35 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:11:45] local.DEBUG: SQL {"time":"1.26 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:11:45 where `item_id` = 6"} 
[2021-07-14 12:11:45] local.DEBUG: SQL {"time":"0.23 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:11:45, 2021-07-14 12:11:45)"} 
[2021-07-14 12:11:45] local.DEBUG: SQL {"time":"0.21 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (21, 6, 1, 1, 2021-07-14 12:11:45, 2021-07-14 12:11:45)"} 
[2021-07-14 12:11:45] local.DEBUG: SQL {"time":"0.23 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:11:46] local.DEBUG: SQL {"time":"3.75 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:11:46] local.DEBUG: SQL {"time":"0.26 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 12:11:46] local.DEBUG: SQL {"time":"0.26 ms","sql":"select * from `items` where `items`.`item_id` in (6)"} 
[2021-07-14 12:12:02] local.DEBUG: SQL {"time":"3.83 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:12:02] local.DEBUG: SQL {"time":"0.25 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 12:12:02] local.DEBUG: SQL {"time":"0.19 ms","sql":"select * from `items` where `items`.`item_id` in (6)"} 
[2021-07-14 12:12:03] local.DEBUG: SQL {"time":"2.68 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 12:12:03] local.DEBUG: SQL {"time":"0.31 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 12:12:03] local.DEBUG: SQL {"time":"0.36 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 12:12:03] local.DEBUG: SQL {"time":"0.63 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:12:06] local.DEBUG: SQL {"time":"3.12 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:12:06] local.DEBUG: SQL {"time":"0.65 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 12:12:06] local.DEBUG: SQL {"time":"0.43 ms","sql":"select * from `items` where `items`.`item_id` in (6)"} 
[2021-07-14 12:12:28] local.DEBUG: SQL {"time":"4.46 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:12:28] local.DEBUG: SQL {"time":"0.41 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:12:28] local.DEBUG: SQL {"time":"0.24 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:12:28 where `item_id` = 6"} 
[2021-07-14 12:12:28] local.DEBUG: SQL {"time":"0.15 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:12:28, 2021-07-14 12:12:28)"} 
[2021-07-14 12:12:28] local.DEBUG: SQL {"time":"0.14 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (22, 6, 1, 1, 2021-07-14 12:12:28, 2021-07-14 12:12:28)"} 
[2021-07-14 12:12:28] local.DEBUG: SQL {"time":"0.18 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:12:28] local.DEBUG: SQL {"time":"0.20 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` = 22 and `purchase_details`.`order_number` is not null"} 
[2021-07-14 12:12:34] local.DEBUG: SQL {"time":"2.81 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:12:34] local.DEBUG: SQL {"time":"0.30 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 12:12:34] local.DEBUG: SQL {"time":"0.28 ms","sql":"select * from `items` where `items`.`item_id` in (6)"} 
[2021-07-14 12:12:35] local.DEBUG: SQL {"time":"2.80 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:12:35] local.DEBUG: SQL {"time":"0.38 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 12:12:35] local.DEBUG: SQL {"time":"0.25 ms","sql":"select * from `items` where `items`.`item_id` in (6)"} 
[2021-07-14 12:12:37] local.DEBUG: SQL {"time":"3.65 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:12:37] local.DEBUG: SQL {"time":"0.38 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:12:37] local.DEBUG: SQL {"time":"0.74 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:12:37 where `item_id` = 6"} 
[2021-07-14 12:12:37] local.DEBUG: SQL {"time":"0.31 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:12:37, 2021-07-14 12:12:37)"} 
[2021-07-14 12:12:37] local.DEBUG: SQL {"time":"1.77 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (23, 6, 1, 1, 2021-07-14 12:12:37, 2021-07-14 12:12:37)"} 
[2021-07-14 12:12:37] local.DEBUG: SQL {"time":"0.22 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:12:37] local.DEBUG: SQL {"time":"0.25 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` = 23 and `purchase_details`.`order_number` is not null"} 
[2021-07-14 12:14:16] local.DEBUG: SQL {"time":"12.86 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:14:16] local.DEBUG: SQL {"time":"5.01 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:14:16] local.DEBUG: SQL {"time":"4.45 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:14:16 where `item_id` = 6"} 
[2021-07-14 12:14:16] local.DEBUG: SQL {"time":"0.19 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:14:16, 2021-07-14 12:14:16)"} 
[2021-07-14 12:14:16] local.DEBUG: SQL {"time":"5.15 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (24, 6, 1, 1, 2021-07-14 12:14:16, 2021-07-14 12:14:16)"} 
[2021-07-14 12:14:16] local.DEBUG: SQL {"time":"0.23 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:14:16] local.DEBUG: SQL {"time":"0.31 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` = 24 and `purchase_details`.`order_number` is not null"} 
[2021-07-14 12:14:17] local.ERROR: Method Illuminate\Database\Eloquent\Collection::join does not exist. {"userId":1,"email":"m.naruse941112@gmail.com","exception":"[object] (BadMethodCallException(code: 0): Method Illuminate\\Database\\Eloquent\\Collection::join does not exist. at /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Support/Traits/Macroable.php:99)
[stacktrace]
#0 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(95): Illuminate\\Support\\Collection->__call('join', Array)
#1 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/ManagesTransactions.php(29): App\\Http\\Controllers\\CartsController->App\\Http\\Controllers\\{closure}(Object(Illuminate\\Database\\MySqlConnection))
#2 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(327): Illuminate\\Database\\Connection->transaction(Object(Closure))
#3 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(223): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#4 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(98): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#5 [internal function]: App\\Http\\Controllers\\CartsController->settle(Object(Illuminate\\Http\\Request))
#6 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array(Array, Array)
#7 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction('settle', Array)
#8 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\CartsController), 'settle')
#9 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(169): Illuminate\\Routing\\Route->runController()
#10 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(665): Illuminate\\Routing\\Route->run()
#11 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#12 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#13 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#14 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#15 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(68): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#16 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#17 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#18 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#19 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#20 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#23 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#24 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#25 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(66): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#28 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#29 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#30 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#31 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(667): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(642): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(608): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(597): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 /Users/narusemasahiko/ECsite_laravel/vendor/barryvdh/laravel-debugbar/src/Middleware/InjectDebugbar.php(58): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#38 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Barryvdh\\Debugbar\\Middleware\\InjectDebugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 /Users/narusemasahiko/ECsite_laravel/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Fideloper\\Proxy\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#44 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#47 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#48 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#49 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#50 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(62): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#53 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#54 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#55 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#56 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#57 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#58 /Users/narusemasahiko/ECsite_laravel/public/index.php(55): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#59 /Users/narusemasahiko/ECsite_laravel/server.php(21): require_once('/Users/narusema...')
#60 {main}
"} 
[2021-07-14 12:14:44] local.DEBUG: SQL {"time":"4.17 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:14:44] local.DEBUG: SQL {"time":"0.39 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:14:44] local.DEBUG: SQL {"time":"0.29 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:14:44 where `item_id` = 6"} 
[2021-07-14 12:14:44] local.DEBUG: SQL {"time":"0.82 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:14:44, 2021-07-14 12:14:44)"} 
[2021-07-14 12:14:44] local.DEBUG: SQL {"time":"0.28 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (25, 6, 1, 1, 2021-07-14 12:14:44, 2021-07-14 12:14:44)"} 
[2021-07-14 12:14:44] local.DEBUG: SQL {"time":"0.17 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:14:44] local.DEBUG: SQL {"time":"0.30 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` = 25 and `purchase_details`.`order_number` is not null"} 
[2021-07-14 12:14:44] local.ERROR: Too few arguments to function Illuminate\Support\Collection::get(), 0 passed in /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php on line 95 and at least 1 expected {"userId":1,"email":"m.naruse941112@gmail.com","exception":"[object] (Symfony\\Component\\Debug\\Exception\\FatalThrowableError(code: 0): Too few arguments to function Illuminate\\Support\\Collection::get(), 0 passed in /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php on line 95 and at least 1 expected at /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Support/Collection.php:716)
[stacktrace]
#0 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(95): Illuminate\\Support\\Collection->get()
#1 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/ManagesTransactions.php(29): App\\Http\\Controllers\\CartsController->App\\Http\\Controllers\\{closure}(Object(Illuminate\\Database\\MySqlConnection))
#2 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(327): Illuminate\\Database\\Connection->transaction(Object(Closure))
#3 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(223): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#4 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(98): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#5 [internal function]: App\\Http\\Controllers\\CartsController->settle(Object(Illuminate\\Http\\Request))
#6 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array(Array, Array)
#7 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction('settle', Array)
#8 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\CartsController), 'settle')
#9 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(169): Illuminate\\Routing\\Route->runController()
#10 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(665): Illuminate\\Routing\\Route->run()
#11 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#12 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#13 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#14 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#15 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(68): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#16 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#17 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#18 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#19 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#20 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#23 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#24 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#25 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(66): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#28 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#29 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#30 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#31 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(667): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(642): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(608): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(597): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 /Users/narusemasahiko/ECsite_laravel/vendor/barryvdh/laravel-debugbar/src/Middleware/InjectDebugbar.php(58): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#38 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Barryvdh\\Debugbar\\Middleware\\InjectDebugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 /Users/narusemasahiko/ECsite_laravel/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Fideloper\\Proxy\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#44 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#47 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#48 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#49 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#50 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(62): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#53 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#54 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#55 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#56 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#57 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#58 /Users/narusemasahiko/ECsite_laravel/public/index.php(55): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#59 /Users/narusemasahiko/ECsite_laravel/server.php(21): require_once('/Users/narusema...')
#60 {main}
"} 
[2021-07-14 12:14:52] local.DEBUG: SQL {"time":"3.44 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:14:52] local.DEBUG: SQL {"time":"0.47 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:14:52] local.DEBUG: SQL {"time":"0.29 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:14:52 where `item_id` = 6"} 
[2021-07-14 12:14:52] local.DEBUG: SQL {"time":"0.24 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:14:52, 2021-07-14 12:14:52)"} 
[2021-07-14 12:14:52] local.DEBUG: SQL {"time":"2.04 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (26, 6, 1, 1, 2021-07-14 12:14:52, 2021-07-14 12:14:52)"} 
[2021-07-14 12:14:52] local.DEBUG: SQL {"time":"0.67 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:14:52] local.DEBUG: SQL {"time":"0.24 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` = 26 and `purchase_details`.`order_number` is not null"} 
[2021-07-14 12:15:02] local.DEBUG: SQL {"time":"2.69 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:15:02] local.DEBUG: SQL {"time":"0.44 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:15:02] local.DEBUG: SQL {"time":"1.42 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:15:02 where `item_id` = 6"} 
[2021-07-14 12:15:02] local.DEBUG: SQL {"time":"0.25 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:15:02, 2021-07-14 12:15:02)"} 
[2021-07-14 12:15:02] local.DEBUG: SQL {"time":"0.18 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (27, 6, 1, 1, 2021-07-14 12:15:02, 2021-07-14 12:15:02)"} 
[2021-07-14 12:15:02] local.DEBUG: SQL {"time":"0.17 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:15:02] local.DEBUG: SQL {"time":"0.21 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` = 27 and `purchase_details`.`order_number` is not null"} 
[2021-07-14 12:15:02] local.DEBUG: SQL {"time":"0.23 ms","sql":"select * from `purchase_details` inner join `items` on `items`.`item_id` = `purchase_details`.`item_id`"} 
[2021-07-14 12:21:01] local.DEBUG: SQL {"time":"6.51 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:21:01] local.DEBUG: SQL {"time":"0.39 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:21:01] local.DEBUG: SQL {"time":"0.22 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:21:01 where `item_id` = 6"} 
[2021-07-14 12:21:01] local.DEBUG: SQL {"time":"0.19 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:21:01, 2021-07-14 12:21:01)"} 
[2021-07-14 12:21:01] local.DEBUG: SQL {"time":"0.19 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (28, 6, 1, 1, 2021-07-14 12:21:01, 2021-07-14 12:21:01)"} 
[2021-07-14 12:21:01] local.DEBUG: SQL {"time":"0.20 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:21:01] local.DEBUG: SQL {"time":"0.26 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` = 28 and `purchase_details`.`order_number` is not null"} 
[2021-07-14 12:21:01] local.DEBUG: SQL {"time":"0.31 ms","sql":"select * from `purchase_details` inner join `items` on `items`.`item_id` = `purchase_details`.`item_id` where `order_number` = 28"} 
[2021-07-14 12:22:19] local.ERROR: syntax error, unexpected ';', expecting identifier (T_STRING) or variable (T_VARIABLE) or '{' or '$' {"exception":"[object] (Symfony\\Component\\Debug\\Exception\\FatalThrowableError(code: 0): syntax error, unexpected ';', expecting identifier (T_STRING) or variable (T_VARIABLE) or '{' or '$' at /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php:95)
[stacktrace]
#0 /Users/narusemasahiko/ECsite_laravel/vendor/composer/ClassLoader.php(346): Composer\\Autoload\\includeFile('/Users/narusema...')
#1 [internal function]: Composer\\Autoload\\ClassLoader->loadClass('App\\\\Http\\\\Contro...')
#2 [internal function]: spl_autoload_call('App\\\\Http\\\\Contro...')
#3 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(767): ReflectionClass->__construct('App\\\\Http\\\\Contro...')
#4 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(646): Illuminate\\Container\\Container->build('App\\\\Http\\\\Contro...')
#5 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(601): Illuminate\\Container\\Container->resolve('App\\\\Http\\\\Contro...', Array)
#6 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(734): Illuminate\\Container\\Container->make('App\\\\Http\\\\Contro...', Array)
#7 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(226): Illuminate\\Foundation\\Application->make('App\\\\Http\\\\Contro...')
#8 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(796): Illuminate\\Routing\\Route->getController()
#9 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(757): Illuminate\\Routing\\Route->controllerMiddleware()
#10 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(678): Illuminate\\Routing\\Route->gatherMiddleware()
#11 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(658): Illuminate\\Routing\\Router->gatherRouteMiddleware(Object(Illuminate\\Routing\\Route))
#12 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(642): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#13 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(608): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#14 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(597): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#15 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#16 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#17 /Users/narusemasahiko/ECsite_laravel/vendor/barryvdh/laravel-debugbar/src/Middleware/InjectDebugbar.php(58): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#18 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Barryvdh\\Debugbar\\Middleware\\InjectDebugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#19 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#20 /Users/narusemasahiko/ECsite_laravel/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#21 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Fideloper\\Proxy\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#24 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#25 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#26 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#27 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#28 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#30 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#31 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#32 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(62): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#33 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#34 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#35 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#36 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#37 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#38 /Users/narusemasahiko/ECsite_laravel/public/index.php(55): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#39 /Users/narusemasahiko/ECsite_laravel/server.php(21): require_once('/Users/narusema...')
#40 {main}
"} 
[2021-07-14 12:22:42] local.ERROR: syntax error, unexpected ';', expecting identifier (T_STRING) or variable (T_VARIABLE) or '{' or '$' {"exception":"[object] (Symfony\\Component\\Debug\\Exception\\FatalThrowableError(code: 0): syntax error, unexpected ';', expecting identifier (T_STRING) or variable (T_VARIABLE) or '{' or '$' at /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php:96)
[stacktrace]
#0 /Users/narusemasahiko/ECsite_laravel/vendor/composer/ClassLoader.php(346): Composer\\Autoload\\includeFile('/Users/narusema...')
#1 [internal function]: Composer\\Autoload\\ClassLoader->loadClass('App\\\\Http\\\\Contro...')
#2 [internal function]: spl_autoload_call('App\\\\Http\\\\Contro...')
#3 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(767): ReflectionClass->__construct('App\\\\Http\\\\Contro...')
#4 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(646): Illuminate\\Container\\Container->build('App\\\\Http\\\\Contro...')
#5 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Container/Container.php(601): Illuminate\\Container\\Container->resolve('App\\\\Http\\\\Contro...', Array)
#6 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(734): Illuminate\\Container\\Container->make('App\\\\Http\\\\Contro...', Array)
#7 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(226): Illuminate\\Foundation\\Application->make('App\\\\Http\\\\Contro...')
#8 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(796): Illuminate\\Routing\\Route->getController()
#9 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(757): Illuminate\\Routing\\Route->controllerMiddleware()
#10 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(678): Illuminate\\Routing\\Route->gatherMiddleware()
#11 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(658): Illuminate\\Routing\\Router->gatherRouteMiddleware(Object(Illuminate\\Routing\\Route))
#12 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(642): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#13 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(608): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#14 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(597): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#15 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#16 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#17 /Users/narusemasahiko/ECsite_laravel/vendor/barryvdh/laravel-debugbar/src/Middleware/InjectDebugbar.php(58): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#18 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Barryvdh\\Debugbar\\Middleware\\InjectDebugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#19 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#20 /Users/narusemasahiko/ECsite_laravel/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#21 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Fideloper\\Proxy\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#24 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#25 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#26 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#27 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#28 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#30 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#31 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#32 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(62): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#33 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#34 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#35 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#36 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#37 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#38 /Users/narusemasahiko/ECsite_laravel/public/index.php(55): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#39 /Users/narusemasahiko/ECsite_laravel/server.php(21): require_once('/Users/narusema...')
#40 {main}
"} 
[2021-07-14 12:22:48] local.DEBUG: SQL {"time":"11.66 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:22:48] local.DEBUG: SQL {"time":"0.42 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:22:48] local.DEBUG: SQL {"time":"4.73 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:22:48 where `item_id` = 6"} 
[2021-07-14 12:22:48] local.DEBUG: SQL {"time":"1.90 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:22:48, 2021-07-14 12:22:48)"} 
[2021-07-14 12:22:48] local.DEBUG: SQL {"time":"4.84 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (29, 6, 1, 1, 2021-07-14 12:22:48, 2021-07-14 12:22:48)"} 
[2021-07-14 12:22:48] local.DEBUG: SQL {"time":"0.45 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:22:48] local.DEBUG: SQL {"time":"0.49 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` = 29 and `purchase_details`.`order_number` is not null"} 
[2021-07-14 12:22:48] local.ERROR: Too few arguments to function Illuminate\Support\Collection::get(), 0 passed in /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php on line 95 and at least 1 expected {"userId":1,"email":"m.naruse941112@gmail.com","exception":"[object] (Symfony\\Component\\Debug\\Exception\\FatalThrowableError(code: 0): Too few arguments to function Illuminate\\Support\\Collection::get(), 0 passed in /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php on line 95 and at least 1 expected at /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Support/Collection.php:716)
[stacktrace]
#0 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(95): Illuminate\\Support\\Collection->get()
#1 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/ManagesTransactions.php(29): App\\Http\\Controllers\\CartsController->App\\Http\\Controllers\\{closure}(Object(Illuminate\\Database\\MySqlConnection))
#2 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(327): Illuminate\\Database\\Connection->transaction(Object(Closure))
#3 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(223): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#4 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(99): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#5 [internal function]: App\\Http\\Controllers\\CartsController->settle(Object(Illuminate\\Http\\Request))
#6 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array(Array, Array)
#7 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction('settle', Array)
#8 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\CartsController), 'settle')
#9 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(169): Illuminate\\Routing\\Route->runController()
#10 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(665): Illuminate\\Routing\\Route->run()
#11 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#12 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#13 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#14 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#15 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(68): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#16 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#17 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#18 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#19 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#20 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#23 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#24 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#25 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(66): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#28 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#29 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#30 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#31 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(667): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(642): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(608): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(597): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 /Users/narusemasahiko/ECsite_laravel/vendor/barryvdh/laravel-debugbar/src/Middleware/InjectDebugbar.php(58): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#38 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Barryvdh\\Debugbar\\Middleware\\InjectDebugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 /Users/narusemasahiko/ECsite_laravel/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Fideloper\\Proxy\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#44 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#47 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#48 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#49 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#50 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(62): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#53 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#54 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#55 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#56 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#57 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#58 /Users/narusemasahiko/ECsite_laravel/public/index.php(55): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#59 /Users/narusemasahiko/ECsite_laravel/server.php(21): require_once('/Users/narusema...')
#60 {main}
"} 
[2021-07-14 12:23:03] local.DEBUG: SQL {"time":"2.99 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:23:03] local.DEBUG: SQL {"time":"0.42 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:23:03] local.DEBUG: SQL {"time":"0.22 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:23:03 where `item_id` = 6"} 
[2021-07-14 12:23:03] local.DEBUG: SQL {"time":"0.17 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:23:03, 2021-07-14 12:23:03)"} 
[2021-07-14 12:23:03] local.DEBUG: SQL {"time":"0.12 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (30, 6, 1, 1, 2021-07-14 12:23:03, 2021-07-14 12:23:03)"} 
[2021-07-14 12:23:03] local.DEBUG: SQL {"time":"0.14 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:23:03] local.DEBUG: SQL {"time":"0.17 ms","sql":"select * from `purchases`"} 
[2021-07-14 12:24:14] local.DEBUG: SQL {"time":"4.89 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:24:14] local.DEBUG: SQL {"time":"0.42 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:24:14] local.DEBUG: SQL {"time":"0.25 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:24:14 where `item_id` = 6"} 
[2021-07-14 12:24:14] local.DEBUG: SQL {"time":"0.23 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:24:14, 2021-07-14 12:24:14)"} 
[2021-07-14 12:24:14] local.DEBUG: SQL {"time":"0.13 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (31, 6, 1, 1, 2021-07-14 12:24:14, 2021-07-14 12:24:14)"} 
[2021-07-14 12:24:14] local.DEBUG: SQL {"time":"0.13 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:24:14] local.DEBUG: SQL {"time":"0.12 ms","sql":"select * from `purchases` where `order_number` is null"} 
[2021-07-14 12:24:24] local.DEBUG: SQL {"time":"2.56 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:24:24] local.DEBUG: SQL {"time":"0.35 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:24:24] local.DEBUG: SQL {"time":"0.24 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:24:24 where `item_id` = 6"} 
[2021-07-14 12:24:24] local.DEBUG: SQL {"time":"0.29 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:24:24, 2021-07-14 12:24:24)"} 
[2021-07-14 12:24:24] local.DEBUG: SQL {"time":"0.35 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (32, 6, 1, 1, 2021-07-14 12:24:24, 2021-07-14 12:24:24)"} 
[2021-07-14 12:24:24] local.DEBUG: SQL {"time":"0.46 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:24:24] local.DEBUG: SQL {"time":"0.18 ms","sql":"select * from `purchases` where `order_number` = 32"} 
[2021-07-14 12:24:49] local.DEBUG: SQL {"time":"5.33 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:24:49] local.DEBUG: SQL {"time":"0.37 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:24:49] local.DEBUG: SQL {"time":"0.21 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:24:49 where `item_id` = 6"} 
[2021-07-14 12:24:49] local.DEBUG: SQL {"time":"0.14 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:24:49, 2021-07-14 12:24:49)"} 
[2021-07-14 12:24:49] local.DEBUG: SQL {"time":"0.20 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (33, 6, 1, 1, 2021-07-14 12:24:49, 2021-07-14 12:24:49)"} 
[2021-07-14 12:24:49] local.DEBUG: SQL {"time":"0.12 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:24:49] local.ERROR: Undefined property: Illuminate\Database\Eloquent\Builder::$purchase_details {"userId":1,"email":"m.naruse941112@gmail.com","exception":"[object] (ErrorException(code: 0): Undefined property: Illuminate\\Database\\Eloquent\\Builder::$purchase_details at /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php:95)
[stacktrace]
#0 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(95): Illuminate\\Foundation\\Bootstrap\\HandleExceptions->handleError(8, 'Undefined prope...', '/Users/narusema...', 95, Array)
#1 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/ManagesTransactions.php(29): App\\Http\\Controllers\\CartsController->App\\Http\\Controllers\\{closure}(Object(Illuminate\\Database\\MySqlConnection))
#2 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(327): Illuminate\\Database\\Connection->transaction(Object(Closure))
#3 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(223): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#4 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(99): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#5 [internal function]: App\\Http\\Controllers\\CartsController->settle(Object(Illuminate\\Http\\Request))
#6 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array(Array, Array)
#7 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction('settle', Array)
#8 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\CartsController), 'settle')
#9 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(169): Illuminate\\Routing\\Route->runController()
#10 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(665): Illuminate\\Routing\\Route->run()
#11 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#12 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#13 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#14 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#15 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(68): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#16 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#17 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#18 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#19 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#20 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#23 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#24 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#25 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(66): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#28 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#29 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#30 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#31 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(667): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(642): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(608): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(597): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 /Users/narusemasahiko/ECsite_laravel/vendor/barryvdh/laravel-debugbar/src/Middleware/InjectDebugbar.php(58): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#38 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Barryvdh\\Debugbar\\Middleware\\InjectDebugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 /Users/narusemasahiko/ECsite_laravel/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Fideloper\\Proxy\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#44 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#47 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#48 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#49 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#50 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(62): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#53 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#54 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#55 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#56 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#57 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#58 /Users/narusemasahiko/ECsite_laravel/public/index.php(55): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#59 /Users/narusemasahiko/ECsite_laravel/server.php(21): require_once('/Users/narusema...')
#60 {main}
"} 
[2021-07-14 12:24:56] local.DEBUG: SQL {"time":"3.85 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:24:56] local.DEBUG: SQL {"time":"0.51 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:24:56] local.DEBUG: SQL {"time":"0.28 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:24:56 where `item_id` = 6"} 
[2021-07-14 12:24:56] local.DEBUG: SQL {"time":"0.31 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:24:56, 2021-07-14 12:24:56)"} 
[2021-07-14 12:24:56] local.DEBUG: SQL {"time":"0.36 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (34, 6, 1, 1, 2021-07-14 12:24:56, 2021-07-14 12:24:56)"} 
[2021-07-14 12:24:56] local.DEBUG: SQL {"time":"0.33 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:24:56] local.ERROR: Method Illuminate\Database\Query\Builder::purchase_details does not exist. {"userId":1,"email":"m.naruse941112@gmail.com","exception":"[object] (BadMethodCallException(code: 0): Method Illuminate\\Database\\Query\\Builder::purchase_details does not exist. at /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:2816)
[stacktrace]
#0 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1286): Illuminate\\Database\\Query\\Builder->__call('purchase_detail...', Array)
#1 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(95): Illuminate\\Database\\Eloquent\\Builder->__call('purchase_detail...', Array)
#2 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/ManagesTransactions.php(29): App\\Http\\Controllers\\CartsController->App\\Http\\Controllers\\{closure}(Object(Illuminate\\Database\\MySqlConnection))
#3 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(327): Illuminate\\Database\\Connection->transaction(Object(Closure))
#4 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(223): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#5 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(99): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#6 [internal function]: App\\Http\\Controllers\\CartsController->settle(Object(Illuminate\\Http\\Request))
#7 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array(Array, Array)
#8 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction('settle', Array)
#9 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\CartsController), 'settle')
#10 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(169): Illuminate\\Routing\\Route->runController()
#11 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(665): Illuminate\\Routing\\Route->run()
#12 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#13 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#14 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#15 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#16 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(68): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#17 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#18 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#19 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#20 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#21 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#22 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#23 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#24 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#25 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#26 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#27 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#28 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(66): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#29 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#30 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#32 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(667): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#33 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(642): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#34 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(608): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#35 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(597): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#36 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#37 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#38 /Users/narusemasahiko/ECsite_laravel/vendor/barryvdh/laravel-debugbar/src/Middleware/InjectDebugbar.php(58): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#39 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Barryvdh\\Debugbar\\Middleware\\InjectDebugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#40 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#41 /Users/narusemasahiko/ECsite_laravel/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#42 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Fideloper\\Proxy\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#43 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#44 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#45 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#46 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#47 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#48 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#49 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#50 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#51 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#52 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#53 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(62): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#54 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#57 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#58 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#59 /Users/narusemasahiko/ECsite_laravel/public/index.php(55): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#60 /Users/narusemasahiko/ECsite_laravel/server.php(21): require_once('/Users/narusema...')
#61 {main}
"} 
[2021-07-14 12:25:12] local.DEBUG: SQL {"time":"11.37 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:25:12] local.DEBUG: SQL {"time":"0.38 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:25:12] local.DEBUG: SQL {"time":"0.25 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:25:12 where `item_id` = 6"} 
[2021-07-14 12:25:12] local.DEBUG: SQL {"time":"4.97 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:25:12, 2021-07-14 12:25:12)"} 
[2021-07-14 12:25:12] local.DEBUG: SQL {"time":"4.91 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (35, 6, 1, 1, 2021-07-14 12:25:12, 2021-07-14 12:25:12)"} 
[2021-07-14 12:25:12] local.DEBUG: SQL {"time":"0.25 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:25:12] local.DEBUG: SQL {"time":"0.28 ms","sql":"select * from `purchases` where `order_number` = 35 limit 1"} 
[2021-07-14 12:25:12] local.DEBUG: SQL {"time":"0.30 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` = 35 and `purchase_details`.`order_number` is not null"} 
[2021-07-14 12:25:12] local.ERROR: Too few arguments to function Illuminate\Support\Collection::get(), 0 passed in /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php on line 95 and at least 1 expected {"userId":1,"email":"m.naruse941112@gmail.com","exception":"[object] (Symfony\\Component\\Debug\\Exception\\FatalThrowableError(code: 0): Too few arguments to function Illuminate\\Support\\Collection::get(), 0 passed in /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php on line 95 and at least 1 expected at /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Support/Collection.php:716)
[stacktrace]
#0 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(95): Illuminate\\Support\\Collection->get()
#1 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/ManagesTransactions.php(29): App\\Http\\Controllers\\CartsController->App\\Http\\Controllers\\{closure}(Object(Illuminate\\Database\\MySqlConnection))
#2 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(327): Illuminate\\Database\\Connection->transaction(Object(Closure))
#3 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(223): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#4 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(99): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#5 [internal function]: App\\Http\\Controllers\\CartsController->settle(Object(Illuminate\\Http\\Request))
#6 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array(Array, Array)
#7 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction('settle', Array)
#8 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\CartsController), 'settle')
#9 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(169): Illuminate\\Routing\\Route->runController()
#10 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(665): Illuminate\\Routing\\Route->run()
#11 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#12 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#13 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#14 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#15 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(68): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#16 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#17 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#18 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#19 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#20 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#23 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#24 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#25 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(66): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#28 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#29 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#30 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#31 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(667): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(642): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(608): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(597): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 /Users/narusemasahiko/ECsite_laravel/vendor/barryvdh/laravel-debugbar/src/Middleware/InjectDebugbar.php(58): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#38 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Barryvdh\\Debugbar\\Middleware\\InjectDebugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 /Users/narusemasahiko/ECsite_laravel/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Fideloper\\Proxy\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#44 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#47 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#48 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#49 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#50 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(62): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#53 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#54 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#55 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#56 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#57 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#58 /Users/narusemasahiko/ECsite_laravel/public/index.php(55): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#59 /Users/narusemasahiko/ECsite_laravel/server.php(21): require_once('/Users/narusema...')
#60 {main}
"} 
[2021-07-14 12:25:19] local.DEBUG: SQL {"time":"4.59 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:25:19] local.DEBUG: SQL {"time":"0.37 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:25:19] local.DEBUG: SQL {"time":"0.40 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:25:19 where `item_id` = 6"} 
[2021-07-14 12:25:19] local.DEBUG: SQL {"time":"0.25 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:25:19, 2021-07-14 12:25:19)"} 
[2021-07-14 12:25:19] local.DEBUG: SQL {"time":"0.28 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (36, 6, 1, 1, 2021-07-14 12:25:19, 2021-07-14 12:25:19)"} 
[2021-07-14 12:25:19] local.DEBUG: SQL {"time":"0.31 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:25:19] local.DEBUG: SQL {"time":"0.23 ms","sql":"select * from `purchases` where `order_number` = 36 limit 1"} 
[2021-07-14 12:25:19] local.DEBUG: SQL {"time":"0.21 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` = 36 and `purchase_details`.`order_number` is not null"} 
[2021-07-14 12:29:37] local.DEBUG: SQL {"time":"2.90 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:29:37] local.DEBUG: SQL {"time":"0.38 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:29:37] local.DEBUG: SQL {"time":"0.18 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 12:29:37 where `item_id` = 6"} 
[2021-07-14 12:29:37] local.DEBUG: SQL {"time":"0.16 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:29:37, 2021-07-14 12:29:37)"} 
[2021-07-14 12:29:37] local.DEBUG: SQL {"time":"0.15 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (37, 6, 1, 1, 2021-07-14 12:29:37, 2021-07-14 12:29:37)"} 
[2021-07-14 12:29:37] local.DEBUG: SQL {"time":"0.13 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 12:29:37] local.DEBUG: SQL {"time":"0.15 ms","sql":"select * from `purchases` where `order_number` = 37 limit 1"} 
[2021-07-14 12:29:37] local.DEBUG: SQL {"time":"0.24 ms","sql":"select * from `purchase_details` inner join `items` on `items`.`item_id` = `purchase_details`.`item_id` where `purchase_details`.`order_number` = 37 and `purchase_details`.`order_number` is not null"} 
[2021-07-14 12:38:47] local.DEBUG: SQL {"time":"6.21 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:38:47] local.DEBUG: SQL {"time":"0.27 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:38:47] local.DEBUG: SQL {"time":"0.18 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:38:47] local.ERROR: Trying to get property 'id' of non-object {"userId":1,"exception":"[object] (ErrorException(code: 0): Trying to get property 'id' of non-object at /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php:52)
[stacktrace]
#0 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(52): Illuminate\\Foundation\\Bootstrap\\HandleExceptions->handleError(8, 'Trying to get p...', '/Users/narusema...', 52, Array)
#1 [internal function]: App\\Http\\Controllers\\CartsController->settle(Object(Illuminate\\Http\\Request))
#2 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array(Array, Array)
#3 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction('settle', Array)
#4 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\CartsController), 'settle')
#5 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(169): Illuminate\\Routing\\Route->runController()
#6 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(665): Illuminate\\Routing\\Route->run()
#7 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#8 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#9 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#10 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#11 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(68): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#12 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#13 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#14 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#15 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#16 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#17 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#18 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#19 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#20 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#21 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(66): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#24 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#25 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#26 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#27 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(667): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#28 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(642): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#29 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(608): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#30 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(597): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#31 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#32 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#33 /Users/narusemasahiko/ECsite_laravel/vendor/barryvdh/laravel-debugbar/src/Middleware/InjectDebugbar.php(58): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#34 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Barryvdh\\Debugbar\\Middleware\\InjectDebugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#35 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#36 /Users/narusemasahiko/ECsite_laravel/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#37 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Fideloper\\Proxy\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#38 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#40 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#43 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#45 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#46 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(62): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#49 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#51 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#52 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#53 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#54 /Users/narusemasahiko/ECsite_laravel/public/index.php(55): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#55 /Users/narusemasahiko/ECsite_laravel/server.php(21): require_once('/Users/narusema...')
#56 {main}
"} 
[2021-07-14 12:39:07] local.DEBUG: SQL {"time":"11.13 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:39:07] local.DEBUG: SQL {"time":"5.17 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 12:39:07] local.DEBUG: SQL {"time":"0.24 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:39:07] local.DEBUG: SQL {"time":"0.19 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:39:09] local.DEBUG: SQL {"time":"6.19 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 12:39:09] local.DEBUG: SQL {"time":"0.45 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 12:39:09] local.DEBUG: SQL {"time":"0.31 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:39:09] local.DEBUG: SQL {"time":"0.19 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:39:11] local.DEBUG: SQL {"time":"3.51 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:39:11] local.DEBUG: SQL {"time":"0.30 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:39:11] local.DEBUG: SQL {"time":"0.30 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:39:26] local.DEBUG: SQL {"time":"10.31 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:39:26] local.DEBUG: SQL {"time":"0.30 ms","sql":"select count(*) as aggregate from `users` where `email` = m.naruse941112@gmail.com"} 
[2021-07-14 12:39:26] local.DEBUG: SQL {"time":"4.08 ms","sql":"insert into `users` (`name`, `email`, `password`, `updated_at`, `created_at`) values (ma, m.naruse941112@gmail.com, y$TlbMOBM/iRUyGApiINQsE.np4cUlaXBdfegIn//AS.GWmXjcNfeFa, 2021-07-14 12:39:26, 2021-07-14 12:39:26)"} 
[2021-07-14 12:39:26] local.DEBUG: SQL {"time":"4.92 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:40:38] local.DEBUG: SQL {"time":"8.66 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 12:40:38] local.DEBUG: SQL {"time":"1.48 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 12:40:38] local.DEBUG: SQL {"time":"0.35 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 12:40:38] local.DEBUG: SQL {"time":"0.43 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:40:43] local.DEBUG: SQL {"time":"3.91 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:40:43] local.DEBUG: SQL {"time":"0.27 ms","sql":"select * from `carts` where (`user_id` = 1 and `item_id` = 1) limit 1"} 
[2021-07-14 12:40:43] local.DEBUG: SQL {"time":"4.05 ms","sql":"insert into `carts` (`user_id`, `item_id`, `amount`, `updated_at`, `created_at`) values (1, 1, 1, 2021-07-14 12:40:43, 2021-07-14 12:40:43)"} 
[2021-07-14 12:40:43] local.DEBUG: SQL {"time":"3.43 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 12:40:43] local.DEBUG: SQL {"time":"0.38 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 12:40:43] local.DEBUG: SQL {"time":"0.29 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 12:40:43] local.DEBUG: SQL {"time":"0.35 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:40:45] local.DEBUG: SQL {"time":"3.93 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:40:45] local.DEBUG: SQL {"time":"0.37 ms","sql":"select * from `carts` where (`user_id` = 1 and `item_id` = 2) limit 1"} 
[2021-07-14 12:40:45] local.DEBUG: SQL {"time":"0.50 ms","sql":"insert into `carts` (`user_id`, `item_id`, `amount`, `updated_at`, `created_at`) values (1, 2, 1, 2021-07-14 12:40:45, 2021-07-14 12:40:45)"} 
[2021-07-14 12:40:45] local.DEBUG: SQL {"time":"2.67 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 12:40:45] local.DEBUG: SQL {"time":"0.31 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 12:40:45] local.DEBUG: SQL {"time":"0.28 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 12:40:45] local.DEBUG: SQL {"time":"0.33 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:40:47] local.DEBUG: SQL {"time":"3.09 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:40:47] local.DEBUG: SQL {"time":"0.40 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 12:40:47] local.DEBUG: SQL {"time":"0.23 ms","sql":"select * from `items` where `items`.`item_id` in (1, 2)"} 
[2021-07-14 12:40:48] local.DEBUG: SQL {"time":"2.64 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:40:48] local.DEBUG: SQL {"time":"0.32 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:40:48] local.DEBUG: SQL {"time":"0.30 ms","sql":"update `items` set `stock` = 1, `updated_at` = 2021-07-14 12:40:48 where `item_id` = 1"} 
[2021-07-14 12:40:48] local.DEBUG: SQL {"time":"0.21 ms","sql":"update `items` set `stock` = 6, `updated_at` = 2021-07-14 12:40:48 where `item_id` = 2"} 
[2021-07-14 12:40:48] local.DEBUG: SQL {"time":"7.34 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:40:48, 2021-07-14 12:40:48)"} 
[2021-07-14 12:40:48] local.DEBUG: SQL {"time":"0.38 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (1, 1, 6, 1, 2021-07-14 12:40:48, 2021-07-14 12:40:48)"} 
[2021-07-14 12:40:48] local.DEBUG: SQL {"time":"0.27 ms","sql":"delete from `carts` where `cart_id` = 1"} 
[2021-07-14 12:40:48] local.DEBUG: SQL {"time":"0.24 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (1, 2, 5, 1, 2021-07-14 12:40:48, 2021-07-14 12:40:48)"} 
[2021-07-14 12:40:48] local.DEBUG: SQL {"time":"2.70 ms","sql":"delete from `carts` where `cart_id` = 2"} 
[2021-07-14 12:40:48] local.DEBUG: SQL {"time":"0.28 ms","sql":"select * from `purchases` where `order_number` = 1 limit 1"} 
[2021-07-14 12:40:48] local.DEBUG: SQL {"time":"0.27 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` = 1 and `purchase_details`.`order_number` is not null"} 
[2021-07-14 12:41:42] local.DEBUG: SQL {"time":"6.30 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 12:41:42] local.DEBUG: SQL {"time":"0.35 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 12:41:42] local.DEBUG: SQL {"time":"0.16 ms","sql":"update `items` set `stock` = 1, `updated_at` = 2021-07-14 12:41:42 where `item_id` = 1"} 
[2021-07-14 12:41:42] local.DEBUG: SQL {"time":"0.12 ms","sql":"update `items` set `stock` = 6, `updated_at` = 2021-07-14 12:41:42 where `item_id` = 2"} 
[2021-07-14 12:41:42] local.DEBUG: SQL {"time":"0.16 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 12:41:42, 2021-07-14 12:41:42)"} 
[2021-07-14 12:41:42] local.DEBUG: SQL {"time":"5.66 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (2, 1, 6, 1, 2021-07-14 12:41:42, 2021-07-14 12:41:42)"} 
[2021-07-14 12:41:42] local.DEBUG: SQL {"time":"0.20 ms","sql":"delete from `carts` where `cart_id` = 1"} 
[2021-07-14 12:41:42] local.DEBUG: SQL {"time":"0.16 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (2, 2, 5, 1, 2021-07-14 12:41:42, 2021-07-14 12:41:42)"} 
[2021-07-14 12:41:42] local.DEBUG: SQL {"time":"0.18 ms","sql":"delete from `carts` where `cart_id` = 2"} 
[2021-07-14 12:41:42] local.DEBUG: SQL {"time":"0.19 ms","sql":"select * from `purchases` where `order_number` = 2 limit 1"} 
[2021-07-14 12:41:42] local.ERROR: Method Illuminate\Database\Query\Builder::items does not exist. {"userId":1,"email":"m.naruse941112@gmail.com","exception":"[object] (BadMethodCallException(code: 0): Method Illuminate\\Database\\Query\\Builder::items does not exist. at /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:2816)
[stacktrace]
#0 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(1286): Illuminate\\Database\\Query\\Builder->__call('items', Array)
#1 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/Relation.php(369): Illuminate\\Database\\Eloquent\\Builder->__call('items', Array)
#2 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(95): Illuminate\\Database\\Eloquent\\Relations\\Relation->__call('items', Array)
#3 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/ManagesTransactions.php(29): App\\Http\\Controllers\\CartsController->App\\Http\\Controllers\\{closure}(Object(Illuminate\\Database\\MySqlConnection))
#4 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(327): Illuminate\\Database\\Connection->transaction(Object(Closure))
#5 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(223): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#6 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(99): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#7 [internal function]: App\\Http\\Controllers\\CartsController->settle(Object(Illuminate\\Http\\Request))
#8 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array(Array, Array)
#9 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction('settle', Array)
#10 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\CartsController), 'settle')
#11 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(169): Illuminate\\Routing\\Route->runController()
#12 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(665): Illuminate\\Routing\\Route->run()
#13 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#14 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#15 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#16 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#17 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(68): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#18 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#19 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#20 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#21 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#22 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#23 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#24 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#25 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#26 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#27 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#28 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#29 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(66): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#30 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#31 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#32 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#33 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(667): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(642): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#35 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(608): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#36 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(597): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#37 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#38 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#39 /Users/narusemasahiko/ECsite_laravel/vendor/barryvdh/laravel-debugbar/src/Middleware/InjectDebugbar.php(58): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#40 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Barryvdh\\Debugbar\\Middleware\\InjectDebugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#41 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#42 /Users/narusemasahiko/ECsite_laravel/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#43 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Fideloper\\Proxy\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#44 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#45 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#46 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#47 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#48 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#49 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#50 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#51 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#52 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#53 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#54 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(62): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#55 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#56 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#57 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#58 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#59 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#60 /Users/narusemasahiko/ECsite_laravel/public/index.php(55): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#61 /Users/narusemasahiko/ECsite_laravel/server.php(21): require_once('/Users/narusema...')
#62 {main}
"} 
[2021-07-14 13:12:58] local.DEBUG: SQL {"time":"14.60 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:12:58] local.DEBUG: SQL {"time":"0.81 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 13:12:58] local.DEBUG: SQL {"time":"0.38 ms","sql":"update `items` set `stock` = 1, `updated_at` = 2021-07-14 13:12:58 where `item_id` = 1"} 
[2021-07-14 13:12:58] local.DEBUG: SQL {"time":"0.23 ms","sql":"update `items` set `stock` = 6, `updated_at` = 2021-07-14 13:12:58 where `item_id` = 2"} 
[2021-07-14 13:12:58] local.DEBUG: SQL {"time":"0.28 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 13:12:58, 2021-07-14 13:12:58)"} 
[2021-07-14 13:12:58] local.DEBUG: SQL {"time":"0.56 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (3, 1, 6, 1, 2021-07-14 13:12:58, 2021-07-14 13:12:58)"} 
[2021-07-14 13:12:58] local.DEBUG: SQL {"time":"0.30 ms","sql":"delete from `carts` where `cart_id` = 1"} 
[2021-07-14 13:12:58] local.DEBUG: SQL {"time":"0.21 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (3, 2, 5, 1, 2021-07-14 13:12:58, 2021-07-14 13:12:58)"} 
[2021-07-14 13:12:58] local.DEBUG: SQL {"time":"3.55 ms","sql":"delete from `carts` where `cart_id` = 2"} 
[2021-07-14 13:12:58] local.DEBUG: SQL {"time":"0.36 ms","sql":"select * from `purchases` where `order_number` = 3 limit 1"} 
[2021-07-14 13:12:58] local.DEBUG: SQL {"time":"0.32 ms","sql":"select * from `purchase_details` where `purchase_details`.`order_number` = 3 and `purchase_details`.`order_number` is not null limit 1"} 
[2021-07-14 13:12:58] local.ERROR: array_key_exists(): The first argument should be either a string or an integer {"userId":1,"email":"m.naruse941112@gmail.com","exception":"[object] (ErrorException(code: 0): array_key_exists(): The first argument should be either a string or an integer at /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:315)
[stacktrace]
#0 [internal function]: Illuminate\\Foundation\\Bootstrap\\HandleExceptions->handleError(2, 'array_key_exist...', '/Users/narusema...', 315, Array)
#1 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(315): array_key_exists(Array, Array)
#2 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/HasOneOrMany.php(389): Illuminate\\Database\\Eloquent\\Model->getAttribute(Array)
#3 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/HasOneOrMany.php(70): Illuminate\\Database\\Eloquent\\Relations\\HasOneOrMany->getParentKey()
#4 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/Relation.php(70): Illuminate\\Database\\Eloquent\\Relations\\HasOneOrMany->addConstraints()
#5 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/HasOneOrMany.php(46): Illuminate\\Database\\Eloquent\\Relations\\Relation->__construct(Object(Illuminate\\Database\\Eloquent\\Builder), Object(App\\Purchase_detail))
#6 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php(306): Illuminate\\Database\\Eloquent\\Relations\\HasOneOrMany->__construct(Object(Illuminate\\Database\\Eloquent\\Builder), Object(App\\Purchase_detail), 'items.item_id', Array)
#7 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php(291): Illuminate\\Database\\Eloquent\\Model->newHasMany(Object(Illuminate\\Database\\Eloquent\\Builder), Object(App\\Purchase_detail), 'items.item_id', Array)
#8 /Users/narusemasahiko/ECsite_laravel/app/Purchase_detail.php(19): Illuminate\\Database\\Eloquent\\Model->hasMany('App\\\\Item', 'item_id')
#9 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(95): App\\Purchase_detail->items()
#10 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/ManagesTransactions.php(29): App\\Http\\Controllers\\CartsController->App\\Http\\Controllers\\{closure}(Object(Illuminate\\Database\\MySqlConnection))
#11 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(327): Illuminate\\Database\\Connection->transaction(Object(Closure))
#12 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(223): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#13 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(99): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#14 [internal function]: App\\Http\\Controllers\\CartsController->settle(Object(Illuminate\\Http\\Request))
#15 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array(Array, Array)
#16 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction('settle', Array)
#17 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\CartsController), 'settle')
#18 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(169): Illuminate\\Routing\\Route->runController()
#19 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(665): Illuminate\\Routing\\Route->run()
#20 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#21 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#23 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#24 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(68): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#25 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#28 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#29 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#30 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#31 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#32 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#34 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#35 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#36 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(66): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#37 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#38 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#40 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(667): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#41 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(642): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#42 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(608): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#43 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(597): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#44 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#45 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#46 /Users/narusemasahiko/ECsite_laravel/vendor/barryvdh/laravel-debugbar/src/Middleware/InjectDebugbar.php(58): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#47 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Barryvdh\\Debugbar\\Middleware\\InjectDebugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#48 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#49 /Users/narusemasahiko/ECsite_laravel/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#50 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Fideloper\\Proxy\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#53 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#54 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#55 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#56 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#59 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#60 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#61 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(62): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#62 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#63 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#64 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#65 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#66 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#67 /Users/narusemasahiko/ECsite_laravel/public/index.php(55): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#68 /Users/narusemasahiko/ECsite_laravel/server.php(21): require_once('/Users/narusema...')
#69 {main}
"} 
[2021-07-14 13:15:40] local.DEBUG: SQL {"time":"4.84 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:15:40] local.DEBUG: SQL {"time":"0.58 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 13:15:40] local.DEBUG: SQL {"time":"0.38 ms","sql":"update `items` set `stock` = 1, `updated_at` = 2021-07-14 13:15:40 where `item_id` = 1"} 
[2021-07-14 13:15:40] local.DEBUG: SQL {"time":"0.35 ms","sql":"update `items` set `stock` = 6, `updated_at` = 2021-07-14 13:15:40 where `item_id` = 2"} 
[2021-07-14 13:15:40] local.DEBUG: SQL {"time":"0.30 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 13:15:40, 2021-07-14 13:15:40)"} 
[2021-07-14 13:15:40] local.DEBUG: SQL {"time":"0.15 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (4, 1, 6, 1, 2021-07-14 13:15:40, 2021-07-14 13:15:40)"} 
[2021-07-14 13:15:40] local.DEBUG: SQL {"time":"0.14 ms","sql":"delete from `carts` where `cart_id` = 1"} 
[2021-07-14 13:15:40] local.DEBUG: SQL {"time":"0.13 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (4, 2, 5, 1, 2021-07-14 13:15:40, 2021-07-14 13:15:40)"} 
[2021-07-14 13:15:40] local.DEBUG: SQL {"time":"0.25 ms","sql":"delete from `carts` where `cart_id` = 2"} 
[2021-07-14 13:15:40] local.DEBUG: SQL {"time":"0.18 ms","sql":"select * from `purchase_details` where `order_number` = 4 limit 1"} 
[2021-07-14 13:16:07] local.DEBUG: SQL {"time":"3.23 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:16:07] local.DEBUG: SQL {"time":"0.51 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 13:16:07] local.DEBUG: SQL {"time":"0.39 ms","sql":"update `items` set `stock` = 1, `updated_at` = 2021-07-14 13:16:07 where `item_id` = 1"} 
[2021-07-14 13:16:07] local.DEBUG: SQL {"time":"0.18 ms","sql":"update `items` set `stock` = 6, `updated_at` = 2021-07-14 13:16:07 where `item_id` = 2"} 
[2021-07-14 13:16:07] local.DEBUG: SQL {"time":"1.07 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 13:16:07, 2021-07-14 13:16:07)"} 
[2021-07-14 13:16:07] local.DEBUG: SQL {"time":"0.14 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (5, 1, 6, 1, 2021-07-14 13:16:07, 2021-07-14 13:16:07)"} 
[2021-07-14 13:16:07] local.DEBUG: SQL {"time":"0.13 ms","sql":"delete from `carts` where `cart_id` = 1"} 
[2021-07-14 13:16:07] local.DEBUG: SQL {"time":"0.17 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (5, 2, 5, 1, 2021-07-14 13:16:07, 2021-07-14 13:16:07)"} 
[2021-07-14 13:16:07] local.DEBUG: SQL {"time":"0.15 ms","sql":"delete from `carts` where `cart_id` = 2"} 
[2021-07-14 13:16:07] local.DEBUG: SQL {"time":"0.20 ms","sql":"select * from `purchase_details` where `order_number` = 5 limit 1"} 
[2021-07-14 13:16:07] local.ERROR: array_key_exists(): The first argument should be either a string or an integer {"userId":1,"email":"m.naruse941112@gmail.com","exception":"[object] (ErrorException(code: 0): array_key_exists(): The first argument should be either a string or an integer at /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:315)
[stacktrace]
#0 [internal function]: Illuminate\\Foundation\\Bootstrap\\HandleExceptions->handleError(2, 'array_key_exist...', '/Users/narusema...', 315, Array)
#1 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(315): array_key_exists(Array, Array)
#2 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/HasOneOrMany.php(389): Illuminate\\Database\\Eloquent\\Model->getAttribute(Array)
#3 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/HasOneOrMany.php(70): Illuminate\\Database\\Eloquent\\Relations\\HasOneOrMany->getParentKey()
#4 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/Relation.php(70): Illuminate\\Database\\Eloquent\\Relations\\HasOneOrMany->addConstraints()
#5 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/HasOneOrMany.php(46): Illuminate\\Database\\Eloquent\\Relations\\Relation->__construct(Object(Illuminate\\Database\\Eloquent\\Builder), Object(App\\Purchase_detail))
#6 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php(306): Illuminate\\Database\\Eloquent\\Relations\\HasOneOrMany->__construct(Object(Illuminate\\Database\\Eloquent\\Builder), Object(App\\Purchase_detail), 'items.item_id', Array)
#7 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php(291): Illuminate\\Database\\Eloquent\\Model->newHasMany(Object(Illuminate\\Database\\Eloquent\\Builder), Object(App\\Purchase_detail), 'items.item_id', Array)
#8 /Users/narusemasahiko/ECsite_laravel/app/Purchase_detail.php(19): Illuminate\\Database\\Eloquent\\Model->hasMany('App\\\\Item', 'item_id')
#9 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(95): App\\Purchase_detail->items()
#10 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/ManagesTransactions.php(29): App\\Http\\Controllers\\CartsController->App\\Http\\Controllers\\{closure}(Object(Illuminate\\Database\\MySqlConnection))
#11 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(327): Illuminate\\Database\\Connection->transaction(Object(Closure))
#12 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(223): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#13 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(98): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#14 [internal function]: App\\Http\\Controllers\\CartsController->settle(Object(Illuminate\\Http\\Request))
#15 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array(Array, Array)
#16 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction('settle', Array)
#17 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\CartsController), 'settle')
#18 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(169): Illuminate\\Routing\\Route->runController()
#19 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(665): Illuminate\\Routing\\Route->run()
#20 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#21 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#23 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#24 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(68): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#25 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#28 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#29 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#30 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#31 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#32 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#33 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#34 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#35 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#36 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(66): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#37 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#38 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#39 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#40 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(667): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#41 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(642): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#42 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(608): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#43 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(597): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#44 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#45 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#46 /Users/narusemasahiko/ECsite_laravel/vendor/barryvdh/laravel-debugbar/src/Middleware/InjectDebugbar.php(58): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#47 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Barryvdh\\Debugbar\\Middleware\\InjectDebugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#48 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#49 /Users/narusemasahiko/ECsite_laravel/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#50 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Fideloper\\Proxy\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#53 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#54 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#55 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#56 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#57 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#58 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#59 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#60 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#61 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(62): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#62 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#63 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#64 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#65 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#66 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#67 /Users/narusemasahiko/ECsite_laravel/public/index.php(55): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#68 /Users/narusemasahiko/ECsite_laravel/server.php(21): require_once('/Users/narusema...')
#69 {main}
"} 
[2021-07-14 13:16:17] local.DEBUG: SQL {"time":"3.24 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:16:17] local.DEBUG: SQL {"time":"0.36 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 13:16:17] local.DEBUG: SQL {"time":"0.31 ms","sql":"update `items` set `stock` = 1, `updated_at` = 2021-07-14 13:16:17 where `item_id` = 1"} 
[2021-07-14 13:16:17] local.DEBUG: SQL {"time":"0.23 ms","sql":"update `items` set `stock` = 6, `updated_at` = 2021-07-14 13:16:17 where `item_id` = 2"} 
[2021-07-14 13:16:17] local.DEBUG: SQL {"time":"0.22 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 13:16:17, 2021-07-14 13:16:17)"} 
[2021-07-14 13:16:17] local.DEBUG: SQL {"time":"0.58 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (6, 1, 6, 1, 2021-07-14 13:16:17, 2021-07-14 13:16:17)"} 
[2021-07-14 13:16:17] local.DEBUG: SQL {"time":"0.33 ms","sql":"delete from `carts` where `cart_id` = 1"} 
[2021-07-14 13:16:17] local.DEBUG: SQL {"time":"0.15 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (6, 2, 5, 1, 2021-07-14 13:16:17, 2021-07-14 13:16:17)"} 
[2021-07-14 13:16:17] local.DEBUG: SQL {"time":"0.45 ms","sql":"delete from `carts` where `cart_id` = 2"} 
[2021-07-14 13:16:17] local.DEBUG: SQL {"time":"0.18 ms","sql":"select * from `purchase_details` where `order_number` = 6 limit 1"} 
[2021-07-14 13:16:17] local.ERROR: array_key_exists(): The first argument should be either a string or an integer {"userId":1,"email":"m.naruse941112@gmail.com","exception":"[object] (ErrorException(code: 0): array_key_exists(): The first argument should be either a string or an integer at /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php:315)
[stacktrace]
#0 [internal function]: Illuminate\\Foundation\\Bootstrap\\HandleExceptions->handleError(2, 'array_key_exist...', '/Users/narusema...', 315, Array)
#1 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(315): array_key_exists(Array, Array)
#2 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/HasOneOrMany.php(389): Illuminate\\Database\\Eloquent\\Model->getAttribute(Array)
#3 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/HasOneOrMany.php(70): Illuminate\\Database\\Eloquent\\Relations\\HasOneOrMany->getParentKey()
#4 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/Relation.php(70): Illuminate\\Database\\Eloquent\\Relations\\HasOneOrMany->addConstraints()
#5 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Relations/HasOneOrMany.php(46): Illuminate\\Database\\Eloquent\\Relations\\Relation->__construct(Object(Illuminate\\Database\\Eloquent\\Builder), Object(App\\Purchase_detail))
#6 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php(306): Illuminate\\Database\\Eloquent\\Relations\\HasOneOrMany->__construct(Object(Illuminate\\Database\\Eloquent\\Builder), Object(App\\Purchase_detail), 'items.item_id', Array)
#7 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasRelationships.php(291): Illuminate\\Database\\Eloquent\\Model->newHasMany(Object(Illuminate\\Database\\Eloquent\\Builder), Object(App\\Purchase_detail), 'items.item_id', Array)
#8 /Users/narusemasahiko/ECsite_laravel/app/Purchase_detail.php(19): Illuminate\\Database\\Eloquent\\Model->hasMany('App\\\\Item', 'item_id')
#9 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(411): App\\Purchase_detail->items()
#10 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(397): Illuminate\\Database\\Eloquent\\Model->getRelationshipFromMethod('items')
#11 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasAttributes.php(327): Illuminate\\Database\\Eloquent\\Model->getRelationValue('items')
#12 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(1475): Illuminate\\Database\\Eloquent\\Model->getAttribute('items')
#13 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(95): Illuminate\\Database\\Eloquent\\Model->__get('items')
#14 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/ManagesTransactions.php(29): App\\Http\\Controllers\\CartsController->App\\Http\\Controllers\\{closure}(Object(Illuminate\\Database\\MySqlConnection))
#15 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(327): Illuminate\\Database\\Connection->transaction(Object(Closure))
#16 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(223): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#17 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(98): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#18 [internal function]: App\\Http\\Controllers\\CartsController->settle(Object(Illuminate\\Http\\Request))
#19 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array(Array, Array)
#20 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction('settle', Array)
#21 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\CartsController), 'settle')
#22 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(169): Illuminate\\Routing\\Route->runController()
#23 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(665): Illuminate\\Routing\\Route->run()
#24 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#25 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#26 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#27 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#28 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(68): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#29 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#30 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#31 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#32 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#33 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#34 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#35 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#36 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#37 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#38 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(66): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#44 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(667): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#45 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(642): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#46 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(608): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#47 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(597): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#48 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#49 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#50 /Users/narusemasahiko/ECsite_laravel/vendor/barryvdh/laravel-debugbar/src/Middleware/InjectDebugbar.php(58): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#51 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Barryvdh\\Debugbar\\Middleware\\InjectDebugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#52 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#53 /Users/narusemasahiko/ECsite_laravel/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#54 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Fideloper\\Proxy\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#55 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#56 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#57 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#58 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#59 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#60 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#61 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#62 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#63 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#64 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#65 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(62): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#66 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#67 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#68 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#69 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#70 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#71 /Users/narusemasahiko/ECsite_laravel/public/index.php(55): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#72 /Users/narusemasahiko/ECsite_laravel/server.php(21): require_once('/Users/narusema...')
#73 {main}
"} 
[2021-07-14 13:16:23] local.DEBUG: SQL {"time":"2.57 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:16:23] local.DEBUG: SQL {"time":"0.54 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 13:16:23] local.DEBUG: SQL {"time":"0.27 ms","sql":"update `items` set `stock` = 1, `updated_at` = 2021-07-14 13:16:23 where `item_id` = 1"} 
[2021-07-14 13:16:23] local.DEBUG: SQL {"time":"0.21 ms","sql":"update `items` set `stock` = 6, `updated_at` = 2021-07-14 13:16:23 where `item_id` = 2"} 
[2021-07-14 13:16:23] local.DEBUG: SQL {"time":"0.22 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 13:16:23, 2021-07-14 13:16:23)"} 
[2021-07-14 13:16:23] local.DEBUG: SQL {"time":"0.23 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (7, 1, 6, 1, 2021-07-14 13:16:23, 2021-07-14 13:16:23)"} 
[2021-07-14 13:16:23] local.DEBUG: SQL {"time":"0.25 ms","sql":"delete from `carts` where `cart_id` = 1"} 
[2021-07-14 13:16:23] local.DEBUG: SQL {"time":"0.19 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (7, 2, 5, 1, 2021-07-14 13:16:23, 2021-07-14 13:16:23)"} 
[2021-07-14 13:16:23] local.DEBUG: SQL {"time":"0.17 ms","sql":"delete from `carts` where `cart_id` = 2"} 
[2021-07-14 13:16:23] local.ERROR: Undefined property: Illuminate\Database\Eloquent\Builder::$items {"userId":1,"email":"m.naruse941112@gmail.com","exception":"[object] (ErrorException(code: 0): Undefined property: Illuminate\\Database\\Eloquent\\Builder::$items at /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php:95)
[stacktrace]
#0 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(95): Illuminate\\Foundation\\Bootstrap\\HandleExceptions->handleError(8, 'Undefined prope...', '/Users/narusema...', 95, Array)
#1 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/Concerns/ManagesTransactions.php(29): App\\Http\\Controllers\\CartsController->App\\Http\\Controllers\\{closure}(Object(Illuminate\\Database\\MySqlConnection))
#2 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Database/DatabaseManager.php(327): Illuminate\\Database\\Connection->transaction(Object(Closure))
#3 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(223): Illuminate\\Database\\DatabaseManager->__call('transaction', Array)
#4 /Users/narusemasahiko/ECsite_laravel/app/Http/Controllers/CartsController.php(98): Illuminate\\Support\\Facades\\Facade::__callStatic('transaction', Array)
#5 [internal function]: App\\Http\\Controllers\\CartsController->settle(Object(Illuminate\\Http\\Request))
#6 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array(Array, Array)
#7 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction('settle', Array)
#8 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(212): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\CartsController), 'settle')
#9 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Route.php(169): Illuminate\\Routing\\Route->runController()
#10 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(665): Illuminate\\Routing\\Route->run()
#11 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#12 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#13 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#14 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#15 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(68): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#16 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#17 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#18 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(49): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#19 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#20 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#21 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#22 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#23 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#24 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#25 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#26 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#27 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(66): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#28 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#29 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#30 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#31 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(667): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(642): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))
#33 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(608): Illuminate\\Routing\\Router->runRoute(Object(Illuminate\\Http\\Request), Object(Illuminate\\Routing\\Route))
#34 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Router.php(597): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))
#35 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))
#36 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))
#37 /Users/narusemasahiko/ECsite_laravel/vendor/barryvdh/laravel-debugbar/src/Middleware/InjectDebugbar.php(58): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#38 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Barryvdh\\Debugbar\\Middleware\\InjectDebugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#39 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#40 /Users/narusemasahiko/ECsite_laravel/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#41 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Fideloper\\Proxy\\TrustProxies->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#42 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#43 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#44 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#45 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#46 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(31): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#47 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#48 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#49 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#50 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#51 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#52 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(62): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#53 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(151): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))
#54 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))
#55 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(104): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))
#56 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#57 /Users/narusemasahiko/ECsite_laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))
#58 /Users/narusemasahiko/ECsite_laravel/public/index.php(55): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))
#59 /Users/narusemasahiko/ECsite_laravel/server.php(21): require_once('/Users/narusema...')
#60 {main}
"} 
[2021-07-14 13:16:48] local.DEBUG: SQL {"time":"2.70 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:16:48] local.DEBUG: SQL {"time":"0.47 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 13:16:48] local.DEBUG: SQL {"time":"0.33 ms","sql":"update `items` set `stock` = 1, `updated_at` = 2021-07-14 13:16:48 where `item_id` = 1"} 
[2021-07-14 13:16:48] local.DEBUG: SQL {"time":"0.19 ms","sql":"update `items` set `stock` = 6, `updated_at` = 2021-07-14 13:16:48 where `item_id` = 2"} 
[2021-07-14 13:16:48] local.DEBUG: SQL {"time":"1.00 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 13:16:48, 2021-07-14 13:16:48)"} 
[2021-07-14 13:16:48] local.DEBUG: SQL {"time":"0.30 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (8, 1, 6, 1, 2021-07-14 13:16:48, 2021-07-14 13:16:48)"} 
[2021-07-14 13:16:48] local.DEBUG: SQL {"time":"0.33 ms","sql":"delete from `carts` where `cart_id` = 1"} 
[2021-07-14 13:16:48] local.DEBUG: SQL {"time":"0.43 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (8, 2, 5, 1, 2021-07-14 13:16:48, 2021-07-14 13:16:48)"} 
[2021-07-14 13:16:48] local.DEBUG: SQL {"time":"0.19 ms","sql":"delete from `carts` where `cart_id` = 2"} 
[2021-07-14 13:16:48] local.DEBUG: SQL {"time":"0.21 ms","sql":"select * from `purchase_details` where `order_number` = 8"} 
[2021-07-14 13:18:10] local.DEBUG: SQL {"time":"3.27 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:18:10] local.DEBUG: SQL {"time":"0.33 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 13:18:10] local.DEBUG: SQL {"time":"0.25 ms","sql":"update `items` set `stock` = 1, `updated_at` = 2021-07-14 13:18:10 where `item_id` = 1"} 
[2021-07-14 13:18:10] local.DEBUG: SQL {"time":"0.25 ms","sql":"update `items` set `stock` = 6, `updated_at` = 2021-07-14 13:18:10 where `item_id` = 2"} 
[2021-07-14 13:18:10] local.DEBUG: SQL {"time":"0.18 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 13:18:10, 2021-07-14 13:18:10)"} 
[2021-07-14 13:18:10] local.DEBUG: SQL {"time":"0.21 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (9, 1, 6, 1, 2021-07-14 13:18:10, 2021-07-14 13:18:10)"} 
[2021-07-14 13:18:10] local.DEBUG: SQL {"time":"0.17 ms","sql":"delete from `carts` where `cart_id` = 1"} 
[2021-07-14 13:18:10] local.DEBUG: SQL {"time":"0.17 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (9, 2, 5, 1, 2021-07-14 13:18:10, 2021-07-14 13:18:10)"} 
[2021-07-14 13:18:10] local.DEBUG: SQL {"time":"0.41 ms","sql":"delete from `carts` where `cart_id` = 2"} 
[2021-07-14 13:18:10] local.DEBUG: SQL {"time":"0.20 ms","sql":"select * from `purchase_details` where `order_number` = 9"} 
[2021-07-14 13:18:10] local.DEBUG: SQL {"time":"0.23 ms","sql":"select * from `items` where `items`.`item_id` in (1, 2)"} 
[2021-07-14 13:33:22] local.DEBUG: SQL {"time":"13.16 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:33:22] local.DEBUG: SQL {"time":"0.34 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 13:33:22] local.DEBUG: SQL {"time":"0.23 ms","sql":"update `items` set `stock` = 1, `updated_at` = 2021-07-14 13:33:22 where `item_id` = 1"} 
[2021-07-14 13:33:22] local.DEBUG: SQL {"time":"0.13 ms","sql":"update `items` set `stock` = 6, `updated_at` = 2021-07-14 13:33:22 where `item_id` = 2"} 
[2021-07-14 13:33:22] local.DEBUG: SQL {"time":"0.16 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 13:33:22, 2021-07-14 13:33:22)"} 
[2021-07-14 13:33:22] local.DEBUG: SQL {"time":"5.59 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (10, 1, 6, 1, 2021-07-14 13:33:22, 2021-07-14 13:33:22)"} 
[2021-07-14 13:33:22] local.DEBUG: SQL {"time":"0.20 ms","sql":"delete from `carts` where `cart_id` = 1"} 
[2021-07-14 13:33:22] local.DEBUG: SQL {"time":"0.17 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (10, 2, 5, 1, 2021-07-14 13:33:22, 2021-07-14 13:33:22)"} 
[2021-07-14 13:33:22] local.DEBUG: SQL {"time":"0.18 ms","sql":"delete from `carts` where `cart_id` = 2"} 
[2021-07-14 13:33:22] local.DEBUG: SQL {"time":"0.23 ms","sql":"select * from `purchase_details` where `order_number` = 10"} 
[2021-07-14 13:33:22] local.DEBUG: SQL {"time":"0.28 ms","sql":"select * from `items` where `items`.`item_id` in (1, 2)"} 
[2021-07-14 13:33:41] local.DEBUG: SQL {"time":"2.42 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:33:41] local.DEBUG: SQL {"time":"0.32 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 13:33:41] local.DEBUG: SQL {"time":"0.25 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 13:33:41, 2021-07-14 13:33:41)"} 
[2021-07-14 13:33:41] local.DEBUG: SQL {"time":"0.20 ms","sql":"select * from `purchase_details` where `order_number` = 11"} 
[2021-07-14 13:33:44] local.DEBUG: SQL {"time":"2.68 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:33:44] local.DEBUG: SQL {"time":"0.37 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 13:33:45] local.DEBUG: SQL {"time":"2.63 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 13:33:45] local.DEBUG: SQL {"time":"0.35 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 13:33:45] local.DEBUG: SQL {"time":"4.94 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 13:33:45] local.DEBUG: SQL {"time":"0.39 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:33:46] local.DEBUG: SQL {"time":"2.72 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 13:33:46] local.DEBUG: SQL {"time":"0.34 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 13:33:46] local.DEBUG: SQL {"time":"0.31 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 13:33:46] local.DEBUG: SQL {"time":"0.35 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:33:48] local.DEBUG: SQL {"time":"2.68 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:33:48] local.DEBUG: SQL {"time":"0.34 ms","sql":"select * from `carts` where (`user_id` = 1 and `item_id` = 1) limit 1"} 
[2021-07-14 13:33:48] local.DEBUG: SQL {"time":"0.59 ms","sql":"insert into `carts` (`user_id`, `item_id`, `amount`, `updated_at`, `created_at`) values (1, 1, 1, 2021-07-14 13:33:48, 2021-07-14 13:33:48)"} 
[2021-07-14 13:33:48] local.DEBUG: SQL {"time":"3.99 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 13:33:48] local.DEBUG: SQL {"time":"0.32 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 13:33:48] local.DEBUG: SQL {"time":"0.33 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 13:33:48] local.DEBUG: SQL {"time":"0.34 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:33:50] local.DEBUG: SQL {"time":"3.72 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:33:50] local.DEBUG: SQL {"time":"0.32 ms","sql":"select * from `carts` where (`user_id` = 1 and `item_id` = 2) limit 1"} 
[2021-07-14 13:33:50] local.DEBUG: SQL {"time":"0.45 ms","sql":"insert into `carts` (`user_id`, `item_id`, `amount`, `updated_at`, `created_at`) values (1, 2, 1, 2021-07-14 13:33:50, 2021-07-14 13:33:50)"} 
[2021-07-14 13:33:50] local.DEBUG: SQL {"time":"3.84 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 13:33:50] local.DEBUG: SQL {"time":"0.30 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 13:33:50] local.DEBUG: SQL {"time":"0.41 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 13:33:50] local.DEBUG: SQL {"time":"0.36 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:33:54] local.DEBUG: SQL {"time":"4.37 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:33:54] local.DEBUG: SQL {"time":"0.26 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 13:33:54] local.DEBUG: SQL {"time":"0.31 ms","sql":"select * from `items` where `items`.`item_id` in (1, 2)"} 
[2021-07-14 13:33:55] local.DEBUG: SQL {"time":"2.62 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:33:55] local.DEBUG: SQL {"time":"0.38 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 13:33:55] local.DEBUG: SQL {"time":"0.25 ms","sql":"update `items` set `stock` = 0, `updated_at` = 2021-07-14 13:33:55 where `item_id` = 1"} 
[2021-07-14 13:33:55] local.DEBUG: SQL {"time":"0.17 ms","sql":"update `items` set `stock` = 5, `updated_at` = 2021-07-14 13:33:55 where `item_id` = 2"} 
[2021-07-14 13:33:55] local.DEBUG: SQL {"time":"0.22 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 13:33:55, 2021-07-14 13:33:55)"} 
[2021-07-14 13:33:55] local.DEBUG: SQL {"time":"1.67 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (12, 1, 6, 1, 2021-07-14 13:33:55, 2021-07-14 13:33:55)"} 
[2021-07-14 13:33:55] local.DEBUG: SQL {"time":"0.28 ms","sql":"delete from `carts` where `cart_id` = 3"} 
[2021-07-14 13:33:55] local.DEBUG: SQL {"time":"0.24 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (12, 2, 5, 1, 2021-07-14 13:33:55, 2021-07-14 13:33:55)"} 
[2021-07-14 13:33:55] local.DEBUG: SQL {"time":"0.14 ms","sql":"delete from `carts` where `cart_id` = 4"} 
[2021-07-14 13:33:55] local.DEBUG: SQL {"time":"0.24 ms","sql":"select * from `purchase_details` where `order_number` = 12"} 
[2021-07-14 13:33:55] local.DEBUG: SQL {"time":"0.19 ms","sql":"select * from `items` where `items`.`item_id` in (1, 2)"} 
[2021-07-14 13:38:11] local.DEBUG: SQL {"time":"12.07 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:38:11] local.DEBUG: SQL {"time":"0.38 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 13:38:11] local.DEBUG: SQL {"time":"0.20 ms","sql":"update `items` set `stock` = 0, `updated_at` = 2021-07-14 13:38:11 where `item_id` = 1"} 
[2021-07-14 13:38:11] local.DEBUG: SQL {"time":"0.13 ms","sql":"update `items` set `stock` = 5, `updated_at` = 2021-07-14 13:38:11 where `item_id` = 2"} 
[2021-07-14 13:38:11] local.DEBUG: SQL {"time":"5.24 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 13:38:11, 2021-07-14 13:38:11)"} 
[2021-07-14 13:38:11] local.DEBUG: SQL {"time":"0.28 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (13, 1, 6, 1, 2021-07-14 13:38:11, 2021-07-14 13:38:11)"} 
[2021-07-14 13:38:11] local.DEBUG: SQL {"time":"0.21 ms","sql":"delete from `carts` where `cart_id` = 3"} 
[2021-07-14 13:38:11] local.DEBUG: SQL {"time":"0.18 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (13, 2, 5, 1, 2021-07-14 13:38:11, 2021-07-14 13:38:11)"} 
[2021-07-14 13:38:11] local.DEBUG: SQL {"time":"3.66 ms","sql":"delete from `carts` where `cart_id` = 4"} 
[2021-07-14 13:38:11] local.DEBUG: SQL {"time":"0.24 ms","sql":"select * from `purchase_details` where `order_number` = 13"} 
[2021-07-14 13:38:11] local.DEBUG: SQL {"time":"0.21 ms","sql":"select * from `items` where `items`.`item_id` in (1, 2)"} 
[2021-07-14 13:38:21] local.DEBUG: SQL {"time":"3.47 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:38:21] local.DEBUG: SQL {"time":"0.46 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 13:38:21] local.DEBUG: SQL {"time":"0.22 ms","sql":"update `items` set `stock` = 0, `updated_at` = 2021-07-14 13:38:21 where `item_id` = 1"} 
[2021-07-14 13:38:21] local.DEBUG: SQL {"time":"0.19 ms","sql":"update `items` set `stock` = 5, `updated_at` = 2021-07-14 13:38:21 where `item_id` = 2"} 
[2021-07-14 13:38:21] local.DEBUG: SQL {"time":"0.16 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 13:38:21, 2021-07-14 13:38:21)"} 
[2021-07-14 13:38:21] local.DEBUG: SQL {"time":"0.63 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (14, 1, 6, 1, 2021-07-14 13:38:21, 2021-07-14 13:38:21)"} 
[2021-07-14 13:38:21] local.DEBUG: SQL {"time":"0.14 ms","sql":"delete from `carts` where `cart_id` = 3"} 
[2021-07-14 13:38:21] local.DEBUG: SQL {"time":"0.13 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (14, 2, 5, 1, 2021-07-14 13:38:21, 2021-07-14 13:38:21)"} 
[2021-07-14 13:38:21] local.DEBUG: SQL {"time":"0.13 ms","sql":"delete from `carts` where `cart_id` = 4"} 
[2021-07-14 13:38:21] local.DEBUG: SQL {"time":"0.17 ms","sql":"select * from `purchase_details` where `order_number` = 14"} 
[2021-07-14 13:38:21] local.DEBUG: SQL {"time":"0.17 ms","sql":"select * from `items` where `items`.`item_id` in (1, 2)"} 
[2021-07-14 13:39:28] local.DEBUG: SQL {"time":"11.79 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:39:28] local.DEBUG: SQL {"time":"0.34 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 13:39:28] local.DEBUG: SQL {"time":"0.21 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 13:39:28, 2021-07-14 13:39:28)"} 
[2021-07-14 13:39:28] local.DEBUG: SQL {"time":"0.19 ms","sql":"select * from `purchase_details` where `order_number` = 15"} 
[2021-07-14 13:39:36] local.DEBUG: SQL {"time":"2.74 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:39:36] local.DEBUG: SQL {"time":"0.30 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 13:39:37] local.DEBUG: SQL {"time":"2.70 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 13:39:37] local.DEBUG: SQL {"time":"0.36 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 13:39:37] local.DEBUG: SQL {"time":"0.33 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 13:39:37] local.DEBUG: SQL {"time":"0.35 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:39:39] local.DEBUG: SQL {"time":"2.79 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:39:39] local.DEBUG: SQL {"time":"0.31 ms","sql":"select * from `carts` where (`user_id` = 1 and `item_id` = 2) limit 1"} 
[2021-07-14 13:39:39] local.DEBUG: SQL {"time":"0.67 ms","sql":"insert into `carts` (`user_id`, `item_id`, `amount`, `updated_at`, `created_at`) values (1, 2, 1, 2021-07-14 13:39:39, 2021-07-14 13:39:39)"} 
[2021-07-14 13:39:39] local.DEBUG: SQL {"time":"9.69 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 13:39:39] local.DEBUG: SQL {"time":"0.31 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 13:39:39] local.DEBUG: SQL {"time":"0.39 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 13:39:39] local.DEBUG: SQL {"time":"0.41 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:39:41] local.DEBUG: SQL {"time":"3.94 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:39:41] local.DEBUG: SQL {"time":"0.31 ms","sql":"select * from `carts` where (`user_id` = 1 and `item_id` = 5) limit 1"} 
[2021-07-14 13:39:41] local.DEBUG: SQL {"time":"1.01 ms","sql":"insert into `carts` (`user_id`, `item_id`, `amount`, `updated_at`, `created_at`) values (1, 5, 1, 2021-07-14 13:39:41, 2021-07-14 13:39:41)"} 
[2021-07-14 13:39:41] local.DEBUG: SQL {"time":"4.50 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 13:39:41] local.DEBUG: SQL {"time":"0.35 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 13:39:41] local.DEBUG: SQL {"time":"0.34 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 13:39:41] local.DEBUG: SQL {"time":"0.35 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:39:43] local.DEBUG: SQL {"time":"2.77 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:39:43] local.DEBUG: SQL {"time":"0.36 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 13:39:43] local.DEBUG: SQL {"time":"0.22 ms","sql":"select * from `items` where `items`.`item_id` in (2, 5)"} 
[2021-07-14 13:39:44] local.DEBUG: SQL {"time":"2.80 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:39:44] local.DEBUG: SQL {"time":"0.64 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 13:39:44] local.DEBUG: SQL {"time":"0.33 ms","sql":"update `items` set `stock` = 4, `updated_at` = 2021-07-14 13:39:44 where `item_id` = 2"} 
[2021-07-14 13:39:44] local.DEBUG: SQL {"time":"0.19 ms","sql":"update `items` set `stock` = 2, `updated_at` = 2021-07-14 13:39:44 where `item_id` = 5"} 
[2021-07-14 13:39:44] local.DEBUG: SQL {"time":"1.12 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 13:39:44, 2021-07-14 13:39:44)"} 
[2021-07-14 13:39:44] local.DEBUG: SQL {"time":"0.20 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (16, 2, 5, 1, 2021-07-14 13:39:44, 2021-07-14 13:39:44)"} 
[2021-07-14 13:39:44] local.DEBUG: SQL {"time":"0.16 ms","sql":"delete from `carts` where `cart_id` = 5"} 
[2021-07-14 13:39:44] local.DEBUG: SQL {"time":"0.14 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (16, 5, 6, 1, 2021-07-14 13:39:44, 2021-07-14 13:39:44)"} 
[2021-07-14 13:39:44] local.DEBUG: SQL {"time":"0.16 ms","sql":"delete from `carts` where `cart_id` = 6"} 
[2021-07-14 13:39:44] local.DEBUG: SQL {"time":"0.22 ms","sql":"select * from `purchase_details` where `order_number` = 16"} 
[2021-07-14 13:39:44] local.DEBUG: SQL {"time":"0.29 ms","sql":"select * from `items` where `items`.`item_id` in (2, 5)"} 
[2021-07-14 13:40:55] local.DEBUG: SQL {"time":"5.23 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:40:55] local.DEBUG: SQL {"time":"0.46 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 13:40:55] local.DEBUG: SQL {"time":"0.35 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 13:40:55, 2021-07-14 13:40:55)"} 
[2021-07-14 13:40:55] local.DEBUG: SQL {"time":"0.45 ms","sql":"select * from `purchase_details` where `order_number` = 17"} 
[2021-07-14 13:40:56] local.DEBUG: SQL {"time":"2.73 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 13:40:56] local.DEBUG: SQL {"time":"0.37 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 13:40:56] local.DEBUG: SQL {"time":"0.38 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 13:40:56] local.DEBUG: SQL {"time":"0.35 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:40:59] local.DEBUG: SQL {"time":"3.57 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:40:59] local.DEBUG: SQL {"time":"0.31 ms","sql":"select * from `carts` where (`user_id` = 1 and `item_id` = 3) limit 1"} 
[2021-07-14 13:40:59] local.DEBUG: SQL {"time":"0.84 ms","sql":"insert into `carts` (`user_id`, `item_id`, `amount`, `updated_at`, `created_at`) values (1, 3, 1, 2021-07-14 13:40:59, 2021-07-14 13:40:59)"} 
[2021-07-14 13:41:00] local.DEBUG: SQL {"time":"2.50 ms","sql":"select count(*) as aggregate from `items` where `status` = 1"} 
[2021-07-14 13:41:00] local.DEBUG: SQL {"time":"0.38 ms","sql":"select * from `items` where `status` = 1 limit 8 offset 0"} 
[2021-07-14 13:41:00] local.DEBUG: SQL {"time":"0.36 ms","sql":"select purchase_details.item_id, sum(quantity) as sum, items.name, items.image from `items` inner join `purchase_details` on `purchase_details`.`item_id` = `items`.`item_id` where `status` = 1 group by `item_id`, `purchase_details`.`item_id`, `items`.`name`, `items`.`image` order by `sum` desc"} 
[2021-07-14 13:41:00] local.DEBUG: SQL {"time":"0.37 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:41:02] local.DEBUG: SQL {"time":"2.73 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:41:02] local.DEBUG: SQL {"time":"0.34 ms","sql":"select * from `carts` where `user_id` = 1"} 
[2021-07-14 13:41:02] local.DEBUG: SQL {"time":"0.26 ms","sql":"select * from `items` where `items`.`item_id` in (3)"} 
[2021-07-14 13:41:03] local.DEBUG: SQL {"time":"2.85 ms","sql":"select * from `users` where `id` = 1 limit 1"} 
[2021-07-14 13:41:03] local.DEBUG: SQL {"time":"0.39 ms","sql":"select * from `carts` inner join `items` on `items`.`item_id` = `carts`.`item_id` where `user_id` = 1"} 
[2021-07-14 13:41:03] local.DEBUG: SQL {"time":"0.31 ms","sql":"update `items` set `stock` = 0, `updated_at` = 2021-07-14 13:41:03 where `item_id` = 3"} 
[2021-07-14 13:41:03] local.DEBUG: SQL {"time":"0.27 ms","sql":"insert into `purchases` (`user_id`, `updated_at`, `created_at`) values (1, 2021-07-14 13:41:03, 2021-07-14 13:41:03)"} 
[2021-07-14 13:41:03] local.DEBUG: SQL {"time":"0.67 ms","sql":"insert into `purchase_details` (`order_number`, `item_id`, `price`, `quantity`, `updated_at`, `created_at`) values (18, 3, 8, 1, 2021-07-14 13:41:03, 2021-07-14 13:41:03)"} 
[2021-07-14 13:41:03] local.DEBUG: SQL {"time":"0.18 ms","sql":"delete from `carts` where `cart_id` = 7"} 
[2021-07-14 13:41:03] local.DEBUG: SQL {"time":"0.24 ms","sql":"select * from `purchase_details` where `order_number` = 18"} 
[2021-07-14 13:41:03] local.DEBUG: SQL {"time":"0.17 ms","sql":"select * from `items` where `items`.`item_id` in (3)"} 
